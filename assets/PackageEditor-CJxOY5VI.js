import{_ as x,o as i,k as r,l as u,t as l,S as b,V as E,R as D,c as y,F as B,W as V,p as e,j as A,m as a,w as f,n as N,B as R,r as j,s as w}from"./index-CutREJzL.js";import{a as T,s as S,b as I,c as p}from"./state-i2mN-v4y.js";import{T as F}from"./treatments-FRMeeQws.js";import{c as H}from"./clinics-BxvtXaXx.js";import{N as q}from"./Time-Cir2oP_G.js";import"./index-DZKUV9hg.js";const P={class:"step-number"},z={key:0},L={class:"content"},W={key:1,class:"title-overlay"},G={__name:"EditorSection",props:{stepNumber:{type:Number,required:!0},title:{type:String,required:!0},isCompleted:{type:Boolean,default:!1}},emits:["click"],setup(o){return(n,c)=>(i(),r("div",{class:"editor-section",onClick:c[0]||(c[0]=_=>n.$emit("click"))},[u("div",P,l(o.stepNumber),1),o.isCompleted?b("",!0):(i(),r("h3",z,l(o.title),1)),u("div",L,[E(n.$slots,"default",{},void 0,!0)]),o.isCompleted?(i(),r("div",W,[u("h3",null,l(o.title),1)])):b("",!0)]))}},g=x(G,[["__scopeId","data-v-1298d0cf"]]),J={key:0,class:"option-container"},K=["src"],Q={class:"option-name"},U={key:0,class:"more-option-selected"},X={key:1,class:"placeholder"},Y={__name:"OptionContainer",props:{options:{type:Array,required:!0},maxDisplay:{type:Number,default:4},emptyText:{type:String,required:!0},renderOption:{type:Function,default:o=>o}},setup(o){const n=o,{t:c}=D(),_=y(()=>n.options.slice(0,n.maxDisplay)),v=y(()=>n.options.length>n.maxDisplay),$=y(()=>n.options.length-n.maxDisplay);function k(m){return n.renderOption(m).image||""}function O(m){return n.renderOption(m).name||""}return(m,h)=>o.options.length>0?(i(),r("div",J,[(i(!0),r(B,null,V(_.value,t=>(i(),r("div",{key:t.id},[u("img",{src:k(t),class:"option-image"},null,8,K),u("div",Q,l(O(t)),1)]))),128)),v.value?(i(),r("div",U,l(e(c)("editor.more",{count:$.value})),1)):b("",!0)])):(i(),r("div",X,l(o.emptyText),1))}},C=x(Y,[["__scopeId","data-v-2a4aadca"]]),Z=o=>(j("data-v-6fc6ac50"),o=o(),w(),o),ee={class:"package-editor"},te=Z(()=>u("div",{class:"timeline-line"},null,-1)),se={key:0,class:"date-range"},ne={key:1,class:"placeholder"},oe={__name:"PackageEditor",setup(o){const{t:n}=D(),c=A(),_=y(()=>Object.entries(T.treatments).map(([t,s])=>({id:t,count:s}))),v=y(()=>S.clinics.map(t=>({id:t}))),$=y(()=>I.hotels.map(t=>({id:t.folder,...t})));function k(t){const s=F.find(d=>d.id===t.id);return{image:(s==null?void 0:s.image)||"",name:`${n(`treatments.${t.id}`)} (${t.count})`}}function O(t){var d;const s=H.find(M=>M.id===t.id);return{image:((d=s==null?void 0:s.images)==null?void 0:d[0])||"",name:(s==null?void 0:s.name)||""}}function m(t){var s;return{image:((s=t.thumbnails)==null?void 0:s[0])||"",name:t.name||""}}function h(){c.push("/request-offers")}return(t,s)=>(i(),r("div",ee,[te,a(e(g),{"step-number":1,title:e(n)("editor.treatments"),"is-completed":Object.keys(e(T).treatments).length>0,onClick:s[0]||(s[0]=d=>t.$router.push("/editor/treatments"))},{default:f(()=>[a(e(C),{options:_.value,"empty-text":e(n)("editor.selectTreatments"),"render-option":k},null,8,["options","empty-text"])]),_:1},8,["title","is-completed"]),a(e(g),{"step-number":2,title:e(n)("editor.clinics"),"is-completed":e(S).clinics.length>0,onClick:s[1]||(s[1]=d=>t.$router.push("/editor/clinics"))},{default:f(()=>[a(e(C),{options:v.value,"empty-text":e(n)("editor.selectClinics"),"render-option":O},null,8,["options","empty-text"])]),_:1},8,["title","is-completed"]),a(e(g),{"step-number":3,title:e(n)("editor.preferredDates"),"is-completed":e(p).length>0,onClick:s[2]||(s[2]=d=>t.$router.push("/editor/dates"))},{default:f(()=>[e(p).length===2&&e(p)[0]&&e(p)[1]?(i(),r("div",se,[a(e(q),{time:e(p)[0],type:"date",format:"MMM d, yyyy"},null,8,["time"]),N(" - "),a(e(q),{time:e(p)[1],type:"date",format:"MMM d, yyyy"},null,8,["time"])])):(i(),r("div",ne,l(e(n)("editor.selectDates")),1))]),_:1},8,["title","is-completed"]),a(e(g),{"step-number":4,title:e(n)("editor.accommodation"),"is-completed":e(I).hotels.length>0,onClick:s[3]||(s[3]=d=>t.$router.push("/editor/accommodation"))},{default:f(()=>[a(e(C),{options:$.value,"empty-text":e(n)("editor.selectAccommodation"),"render-option":m},null,8,["options","empty-text"])]),_:1},8,["title","is-completed"]),a(e(R),{type:"primary",size:"large",class:"request-button",onClick:h},{default:f(()=>[N(l(e(n)("editor.requestOffer")),1)]),_:1})]))}},me=x(oe,[["__scopeId","data-v-6fc6ac50"]]);export{me as default};
