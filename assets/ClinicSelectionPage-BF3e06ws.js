import{_ as k,U as I,x as N,j as T,X as j,c as p,a3 as F,o as r,W as $,w as u,l as t,p as s,k as m,F as x,$ as V,t as o,V as S,m as d,B,n as G,q as z,a9 as M,aa as P,ab as q,a7 as E,ac as L,s as y,r as O,v as U}from"./index-CB4KVYo_.js";/* empty css                                                                     */import{F as W,N as X,a as H,C as J}from"./ClinicGrid-CsP10LvS.js";import{c as K}from"./fetched-clinics-Cnq0QLvU.js";import{p as w}from"./prices-Sgi2l8nr.js";import{N as Q}from"./Carousel-DuGMmvPa.js";import{N as Y}from"./Rate-ClCQj1xq.js";import{N as Z}from"./Space-U0p2aw2a.js";import"./clinics-pj_Da-X1.js";const ee={style:{height:"200px !important",position:"relative"}},te=["src"],se=["src"],ie={key:2,class:"overlay"},ne={class:"card-content"},ce={class:"card-content-top"},ae={class:"content-left"},le={class:"card-title"},oe={class:"card-description"},re={key:0,class:"treatment-price"},de={class:"from"},ue={class:"price"},me={class:"card-content-bottom"},fe={class:"card-location"},_e={key:0,class:"hotel-rating"},ge={class:"hotel-rating-count"},pe={class:"footer"},ve={class:"actions"},he={__name:"FetchedClinicCard",props:{id:Number,name:String,description:String,rating:Number,images:Array,country:String,town:String,initiallySelected:{type:Boolean,default:!1},selectedTreatments:{type:Array,default:()=>[]}},emits:["select","deselect"],setup(i,{emit:_}){I();const c=N(!1),a=i,g=_;T(),j(()=>{c.value=a.initiallySelected});const v=()=>{c.value=!c.value,g(c.value?"select":"deselect",a.id)},h=()=>{let l=0;const e=w[a.id];if(!e)return 0;for(const n of a.selectedTreatments)if(e[n])l+=e[n];else return 0;return l},C=p(()=>Math.round(h()*F.rate)),b=p(()=>{if(a.selectedTreatments.length===0)return!1;const l=w[a.id];if(!l)return!1;for(const e of a.selectedTreatments)if(!l[e])return!1;return h()>0});return(l,e)=>(r(),$(s(M),{size:"small",embedded:"",hoverable:"",class:z({card:!0,selected:c.value})},{cover:u(()=>[t("div",ee,[i.images.length>1?(r(),$(s(Q),{key:0,draggable:""},{default:u(()=>[(r(!0),m(x,null,V(i.images,n=>(r(),m("img",{class:"clinic-image",src:n,alt:"Clinic Image"},null,8,te))),256))]),_:1})):(r(),m("img",{key:1,class:"clinic-image",src:i.images[0]||`https://placehold.co/600x400?text=${i.name.split(" ").join("+")}`,alt:"Clinic Image"},null,8,se)),c.value?(r(),m("div",ie,o(l.$t("message.selected")),1)):S("",!0)])]),default:u(()=>[t("div",ne,[t("div",null,[t("div",ce,[t("div",ae,[t("div",le,o(i.name),1),t("div",oe,o(i.description),1)]),b.value?(r(),m("div",re,[t("p",de,o(l.$t("message.from")),1),t("p",ue,o(s(F).getSymbol())+o(C.value),1)])):S("",!0)]),t("div",me,[t("div",fe,o(i.town)+", "+o(i.country),1),i.rating?(r(),m("div",_e,[d(s(Y),{value:1,count:1,readonly:"",size:"small"}),t("span",ge,o(Number(i.rating).toFixed(1)),1)])):S("",!0)])]),t("div",pe,[t("div",ve,[d(s(B),{style:{margin:"0"},class:"action-button",type:"primary",onClick:v},{default:u(()=>[G(o(c.value?l.$t("message.deselect"):l.$t("message.select")),1)]),_:1})])])])]),_:1},8,["class"]))}},ye=k(he,[["__scopeId","data-v-3850cd27"]]),Ce=i=>(O("data-v-8b31bbe4"),i=i(),U(),i),be={class:"clinic-selection"},Se={class:"title-line"},Ne={class:"online-hotels-title"},$e=Ce(()=>t("hr",{class:"online-hotels-divider"},null,-1)),ke={class:"grid"},Ie={__name:"FetchedClinicGrid",setup(i){const{t:_}=I(),c=N("default"),a=N("desc"),g=p(()=>[{label:_("sort.default"),key:"default"},{type:"divider"},{label:_("sort.rating"),key:"rating-desc"}]),v=e=>{if(e==="default"){c.value="default",a.value="desc";return}const[n,f]=e.split("-");c.value=n,a.value=f},h=p(()=>{const e=C.value;return c.value==="default"?e:[...e].sort((n,f)=>{if(c.value==="rating"){const A=a.value==="asc"?1:-1,D=typeof n.rating=="number"?n.rating:-1/0,R=typeof f.rating=="number"?f.rating:-1/0;return(D-R)*A}return 0})}),C=p(()=>{const e=K.filter(n=>!n.hidden);return P.country==="All"?e:e.filter(n=>n.country===P.country)}),b=e=>{y.clinics.push(e)},l=e=>{y.clinics=y.clinics.filter(n=>n!==e)};return(e,n)=>(r(),m("div",be,[t("div",Se,[t("h2",Ne,o(s(_)("message.onlineClinics")),1),$e,d(s(Z),{justify:"end",align:"center",class:"filter-container"},{default:u(()=>[d(s(q),{trigger:"click",options:g.value,onSelect:v},{default:u(()=>[d(s(B),null,{icon:u(()=>[d(s(E),null,{default:u(()=>[d(s(W))]),_:1})]),_:1})]),_:1},8,["options"])]),_:1})]),t("div",ke,[d(s(H),{"x-gap":16,"y-gap":24,cols:"1 600:2 900:3 1200:4"},{default:u(()=>[(r(!0),m(x,null,V(h.value,f=>(r(),$(s(X),{key:f.id},{default:u(()=>[d(ye,L({initiallySelected:s(y).clinics.includes(f.id),ref_for:!0},f,{onSelect:b,onDeselect:l}),null,16,["initiallySelected"])]),_:2},1024))),128))]),_:1})])]))}},xe=k(Ie,[["__scopeId","data-v-8b31bbe4"]]),Be={class:"bottom-actions"},Fe={__name:"ClinicSelectionPage",setup(i){const _=T(),{t:c}=I();return(a,g)=>(r(),m(x,null,[d(s(J)),d(s(xe)),t("div",Be,[d(s(B),{type:"primary",strong:"",onClick:g[0]||(g[0]=v=>s(_).push("/editor"))},{default:u(()=>[G(o(s(c)("message.continue")),1)]),_:1})])],64))}},ze=k(Fe,[["__scopeId","data-v-712091f5"]]);export{ze as default};
