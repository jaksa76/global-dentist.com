import{a1 as Z,a2 as le,c as y,v as $,a3 as oe,H as de,d as K,I as ue,a4 as ce,a5 as I,i as A,u as fe,a6 as j,W as ee,G as pe,a7 as Q,a8 as ve,a9 as P,aa as me,ab as he,h as ge,ac as X,_ as te,R as Se,j as ye,o as p,U as F,w,l as m,p as S,k as C,F as se,V as ie,t as g,S as U,m as M,B as H,n as W,q as _e,ad as be}from"./index-D653pp2w.js";import{N as Re,a as we}from"./Rate-DChQ_V7t.js";import{c as Y}from"./clinics-BxvtXaXx.js";import{s as T}from"./state-DVY2Mody.js";import{g as Ce}from"./get-slot-Bk_rJcZu.js";function $e(e){if(typeof e=="number")return{"":e.toString()};const n={};return e.split(/ +/).forEach(t=>{if(t==="")return;const[s,i]=t.split(":");i===void 0?n[""]=s:n[s]=i}),n}function E(e,n){var t;if(e==null)return;const s=$e(e);if(n===void 0)return s[""];if(typeof n=="string")return(t=s[n])!==null&&t!==void 0?t:s[""];if(Array.isArray(n)){for(let i=n.length-1;i>=0;--i){const r=n[i];if(r in s)return s[r]}return s[""]}else{let i,r=-1;return Object.keys(s).forEach(a=>{const l=Number(a);!Number.isNaN(l)&&n>=l&&l>=r&&(r=l,i=s[a])}),i}}function Ne(e){var n;const t=(n=e.dirs)===null||n===void 0?void 0:n.find(({dir:s})=>s===Z);return!!(t&&t.value===!1)}const xe={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function Ge(e){return`(min-width: ${e}px)`}const V={};function Be(e=xe){if(!le)return y(()=>[]);if(typeof window.matchMedia!="function")return y(()=>[]);const n=$({}),t=Object.keys(e),s=(i,r)=>{i.matches?n.value[r]=!0:n.value[r]=!1};return t.forEach(i=>{const r=e[i];let a,l;V[r]===void 0?(a=window.matchMedia(Ge(r)),a.addEventListener?a.addEventListener("change",d=>{l.forEach(u=>{u(d,i)})}):a.addListener&&a.addListener(d=>{l.forEach(u=>{u(d,i)})}),l=new Set,V[r]={mql:a,cbs:l}):(a=V[r].mql,l=V[r].cbs),l.add(s),a.matches&&l.forEach(d=>{d(a,i)})}),oe(()=>{t.forEach(i=>{const{cbs:r}=V[e[i]];r.has(s)&&r.delete(s)})}),y(()=>{const{value:i}=n;return t.filter(r=>i[r])})}const J=1,ne=de("n-grid"),ae=1,ke={span:{type:[Number,String],default:ae},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}},Ee=K({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:ke,setup(){const{isSsrRef:e,xGapRef:n,itemStyleRef:t,overflowRef:s,layoutShiftDisabledRef:i}=ue(ne),r=ce();return{overflow:s,itemStyle:t,layoutShiftDisabled:i,mergedXGap:y(()=>I(n.value||0)),deriveStyle:()=>{e.value;const{privateSpan:a=ae,privateShow:l=!0,privateColStart:d=void 0,privateOffset:u=0}=r.vnode.props,{value:_}=n,N=I(_||0);return{display:l?"":"none",gridColumn:`${d??`span ${a}`} / span ${a}`,marginLeft:u?`calc((100% - (${a} - 1) * ${N}) / ${a} * ${u} + ${N} * ${u})`:""}}}},render(){var e,n;if(this.layoutShiftDisabled){const{span:t,offset:s,mergedXGap:i}=this;return A("div",{style:{gridColumn:`span ${t} / span ${t}`,marginLeft:s?`calc((100% - (${t} - 1) * ${i}) / ${t} * ${s} + ${i} * ${s})`:""}},this.$slots)}return A("div",{style:[this.itemStyle,this.deriveStyle()]},(n=(e=this.$slots).default)===null||n===void 0?void 0:n.call(e,{overflow:this.overflow}))}}),Ie={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},re=24,O="__ssr__",De={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:re},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}},Ve=K({name:"Grid",inheritAttrs:!1,props:De,setup(e){const{mergedClsPrefixRef:n,mergedBreakpointsRef:t}=fe(e),s=/^\d+$/,i=$(void 0),r=Be((t==null?void 0:t.value)||Ie),a=j(()=>!!(e.itemResponsive||!s.test(e.cols.toString())||!s.test(e.xGap.toString())||!s.test(e.yGap.toString()))),l=y(()=>{if(a.value)return e.responsive==="self"?i.value:r.value}),d=j(()=>{var c;return(c=Number(E(e.cols.toString(),l.value)))!==null&&c!==void 0?c:re}),u=j(()=>E(e.xGap.toString(),l.value)),_=j(()=>E(e.yGap.toString(),l.value)),N=c=>{i.value=c.contentRect.width},h=c=>{he(N,c)},x=$(!1),G=y(()=>{if(e.responsive==="self")return h}),f=$(!1),b=$();return ee(()=>{const{value:c}=b;c&&c.hasAttribute(O)&&(c.removeAttribute(O),f.value=!0)}),pe(ne,{layoutShiftDisabledRef:Q(e,"layoutShiftDisabled"),isSsrRef:f,itemStyleRef:Q(e,"itemStyle"),xGapRef:u,overflowRef:x}),{isSsr:!ve,contentEl:b,mergedClsPrefix:n,style:y(()=>e.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${e.cols}, minmax(0, 1fr))`,columnGap:I(e.xGap),rowGap:I(e.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${d.value}, minmax(0, 1fr))`,columnGap:I(u.value),rowGap:I(_.value)}),isResponsive:a,responsiveQuery:l,responsiveCols:d,handleResize:G,overflow:x}},render(){if(this.layoutShiftDisabled)return A("div",P({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const e=()=>{var n,t,s,i,r,a,l;this.overflow=!1;const d=ge(Ce(this)),u=[],{collapsed:_,collapsedRows:N,responsiveCols:h,responsiveQuery:x}=this;d.forEach(o=>{var D,R,v,B,L;if(((D=o==null?void 0:o.type)===null||D===void 0?void 0:D.__GRID_ITEM__)!==!0)return;if(Ne(o)){const k=X(o);k.props?k.props.privateShow=!1:k.props={privateShow:!1},u.push({child:k,rawChildSpan:0});return}o.dirs=((R=o.dirs)===null||R===void 0?void 0:R.filter(({dir:k})=>k!==Z))||null,((v=o.dirs)===null||v===void 0?void 0:v.length)===0&&(o.dirs=null);const q=X(o),z=Number((L=E((B=q.props)===null||B===void 0?void 0:B.span,x))!==null&&L!==void 0?L:J);z!==0&&u.push({child:q,rawChildSpan:z})});let G=0;const f=(n=u[u.length-1])===null||n===void 0?void 0:n.child;if(f!=null&&f.props){const o=(t=f.props)===null||t===void 0?void 0:t.suffix;o!==void 0&&o!==!1&&(G=Number((i=E((s=f.props)===null||s===void 0?void 0:s.span,x))!==null&&i!==void 0?i:J),f.props.privateSpan=G,f.props.privateColStart=h+1-G,f.props.privateShow=(r=f.props.privateShow)!==null&&r!==void 0?r:!0)}let b=0,c=!1;for(const{child:o,rawChildSpan:D}of u){if(c&&(this.overflow=!0),!c){const R=Number((l=E((a=o.props)===null||a===void 0?void 0:a.offset,x))!==null&&l!==void 0?l:0),v=Math.min(D+R,h);if(o.props?(o.props.privateSpan=v,o.props.privateOffset=R):o.props={privateSpan:v,privateOffset:R},_){const B=b%h;v+B>h&&(b+=h-B),v+b+G>N*h?c=!0:b+=v}}c&&(o.props?o.props.privateShow!==!0&&(o.props.privateShow=!1):o.props={privateShow:!1})}return A("div",P({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[O]:this.isSsr||void 0},this.$attrs),u.map(({child:o})=>o))};return this.isResponsive&&this.responsive==="self"?A(me,{onResize:this.handleResize},{default:e}):e()}}),Ae={style:{height:"200px !important",position:"relative"}},Me=["src"],je=["src"],Te={key:2,class:"overlay"},Le={class:"card-content"},Oe={class:"card-title"},Pe={class:"card-description"},Fe={class:"card-location"},qe={key:0,class:"hotel-rating"},ze={class:"hotel-rating-count"},Qe={class:"actions"},Xe={__name:"ClinicCard",props:{id:Number,name:String,description:String,rating:Number,images:Array,country:String,town:String,initiallySelected:{type:Boolean,default:!1}},emits:["select","deselect"],setup(e,{emit:n}){Se();const t=$(!1),s=e,i=n,r=ye(),a=()=>{r.push(`/clinic/${s.id}`)};ee(()=>{t.value=s.initiallySelected});const l=()=>{t.value=!t.value,i(t.value?"select":"deselect",s.id)};return(d,u)=>(p(),F(S(be),{size:"small",embedded:"",hoverable:"",class:_e({card:!0,selected:t.value})},{cover:w(()=>[m("div",Ae,[e.images.length>1?(p(),F(S(Re),{key:0,draggable:""},{default:w(()=>[(p(!0),C(se,null,ie(e.images,_=>(p(),C("img",{class:"clinic-image",src:_,alt:"Clinic Image"},null,8,Me))),256))]),_:1})):(p(),C("img",{key:1,class:"clinic-image",src:e.images[0],alt:"Clinic Image"},null,8,je)),t.value?(p(),C("div",Te,g(d.$t("message.selected")),1)):U("",!0)])]),default:w(()=>[m("div",Le,[m("div",null,[m("div",Oe,g(e.name),1),m("div",Pe,g(e.description),1),m("div",Fe,g(e.town)+", "+g(e.country),1),e.rating?(p(),C("div",qe,[M(S(we),{value:1,count:1,readonly:"",size:"small"}),m("span",ze,g(Number(e.rating).toFixed(1)),1)])):U("",!0)]),m("div",Qe,[M(S(H),{style:{margin:"0"},class:"action-button",onClick:a},{default:w(()=>[W(g(d.$t("message.details")),1)]),_:1}),M(S(H),{style:{margin:"0"},class:"action-button",type:"primary",onClick:l},{default:w(()=>[W(g(t.value?d.$t("message.deselect"):d.$t("message.select")),1)]),_:1})])])]),_:1},8,["class"]))}},Ue=te(Xe,[["__scopeId","data-v-83784dae"]]),He={class:"clinic-selection"},We={class:"grid"},Ye={__name:"ClinicGrid",emits:["change"],setup(e,{emit:n}){const t=$("Global"),s=y(()=>t.value==="Global"?Y:Y.filter(a=>(a.country+a.town).includes(t.value))),i=a=>{T.clinics.push(a)},r=a=>{T.clinics=T.clinics.filter(l=>l!==a)};return(a,l)=>(p(),C("div",He,[m("div",We,[M(S(Ve),{"x-gap":16,"y-gap":24,cols:"1 600:2 900:3 1200:4"},{default:w(()=>[(p(!0),C(se,null,ie(s.value,d=>(p(),F(S(Ee),{key:d.id},{default:w(()=>[M(Ue,P({initiallySelected:S(T).clinics.includes(d.id),ref_for:!0},d,{onSelect:i,onDeselect:r}),null,16,["initiallySelected"])]),_:2},1024))),128))]),_:1})])]))}},st=te(Ye,[["__scopeId","data-v-18b6786f"]]);export{st as C};
