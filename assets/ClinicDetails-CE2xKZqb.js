import{d as $e,o,k as n,l as e,_ as ce,x as f,c as Q,m as h,w as p,W as C,p as c,V as i,F as E,$ as N,q as z,t as l,n as A,r as ue,v as de,X as oe,aT as le,aC as Ce,aU as Ie,j as Se,s as ne,a6 as q,B as Le}from"./index-wkhI0ZD_.js";import{c as Ue}from"./clinics-COQ7mzcB.js";import{N as ie}from"./ImageGallery.vue_vue_type_style_index_0_scoped_b2d7762d_lang-Czo86j6U.js";import{a as R,N as Z}from"./Carousel-CgJUanz-.js";import{M as Ee,N as T,a as Ne,b as re}from"./Map-B58Yiv7J.js";const je={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Me=e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M328 112L184 256l144 144"},null,-1),Be=[Me],O=$e({name:"ChevronBack",render:function(S,k){return o(),n("svg",je,Be)}}),W=u=>(ue("data-v-b2d7762d"),u=u(),de(),u),De={class:"image-gallery"},Ve={class:"mobile-carousel"},Te=W(()=>e("i",{class:"fa fa-chevron-left"},null,-1)),ze=[Te],Pe=["src"],qe=["src","alt","onLoad"],Re=W(()=>e("i",{class:"fa fa-chevron-right"},null,-1)),We=[Re],Fe={class:"mobile-carousel-footer"},Ge=["src"],Oe=["src"],Ae={key:0,class:"secondary-images"},Xe=["onClick"],Ye=["src","alt","onLoad"],He={key:0,class:"gallery-modal"},Je=W(()=>e("i",{class:"fa fa-times"},null,-1)),Ke={class:"modal-content"},Qe=W(()=>e("i",{class:"fa fa-chevron-left"},null,-1)),Ze=[Qe],xe=["src"],es=["src","alt"],ss=W(()=>e("i",{class:"fa fa-chevron-right"},null,-1)),ts=[ss],as={class:"modal-footer"},os={__name:"ImageGallery",props:{images:{type:Array,required:!0},videoUrl:{type:String,default:null}},setup(u){const S=u,k=f(0),j=f(!1),d=f(new Set),v=f(0),w=Q(()=>S.videoUrl?S.images.length+1:S.images.length),b=Q(()=>S.videoUrl?S.images.length+1:S.images.length),U=y=>{d.value.add(y)},M=y=>{k.value=y},$=()=>{k.value=(k.value-1+w.value)%w.value},B=()=>{k.value=(k.value+1)%w.value},_=y=>{k.value=(S.videoUrl,y),j.value=!0,document.body.style.overflow="hidden"},X=()=>{j.value=!1,document.body.style.overflow="auto"},Y=y=>{v.value=y},H=()=>{v.value=(v.value-1+w.value)%w.value},D=()=>{v.value=(v.value+1)%w.value};return(y,I)=>(o(),n("div",De,[e("div",Ve,[e("button",{class:"nav-button prev",onClick:H},ze),h(c(Z),{"current-index":v.value,"onUpdate:currentIndex":Y,"dot-type":"line","show-arrow":!1,effect:"fade",interval:5e3,duration:500,autoplay:!1},{default:p(()=>[u.videoUrl?(o(),C(c(R),{class:"video-item",key:"video"},{default:p(()=>[e("video",{src:u.videoUrl,autoplay:"",muted:"",loop:"",playsinline:"",class:"video-element"},null,8,Pe)]),_:1})):i("",!0),(o(!0),n(E,null,N(u.images,(L,m)=>(o(),C(c(R),{key:"image-"+m,class:"image-item"},{default:p(()=>[e("img",{src:L,alt:`Image ${u.videoUrl?m+2:m+1}`,onLoad:F=>U(m),class:z({"image-loaded":d.value.has(m)})},null,42,qe)]),_:2},1024))),128))]),_:1},8,["current-index"]),e("button",{class:"nav-button next",onClick:D},We),e("div",Fe,[e("span",null,l(v.value+1)+" / "+l(w.value),1)])]),e("div",{class:z(["gallery-grid",{"single-image":b.value===1,"few-images":b.value>1&&b.value<5}])},[e("div",{class:"main-image",onClick:I[1]||(I[1]=L=>_(0))},[u.videoUrl?(o(),n("video",{key:0,src:u.videoUrl,autoplay:"",muted:"",loop:"",playsinline:"",class:"video-element"},null,8,Ge)):(o(),n(E,{key:1},[u.images.length>0?(o(),n("img",{key:0,src:u.images[0],alt:"Main image",onLoad:I[0]||(I[0]=L=>U(0)),class:z({"image-loaded":d.value.has(0)})},null,42,Oe)):i("",!0)],64))]),b.value>1?(o(),n("div",Ae,[(o(!0),n(E,null,N(u.images.slice(u.videoUrl?0:1,u.videoUrl?4:5),(L,m)=>(o(),n("div",{key:m,class:"secondary-image",onClick:F=>_((u.videoUrl,m+1))},[e("img",{src:L,alt:`Image ${u.videoUrl?m+2:m+1}`,onLoad:F=>U(m),class:z({"image-loaded":d.value.has(m)})},null,42,Ye)],8,Xe))),128)),b.value>2&&b.value!==5?(o(),n("button",{key:0,class:"show-all-button",onClick:I[2]||(I[2]=L=>_(0))},l(y.$t("message.showAllPhotos")),1)):i("",!0)])):i("",!0)],2),j.value?(o(),n("div",He,[e("div",{class:"modal-header"},[e("button",{class:"close-button",onClick:X},[Je,A(" Close ")])]),e("div",Ke,[e("button",{class:"nav-button prev",onClick:$},Ze),h(c(Z),{"current-index":k.value,"onUpdate:currentIndex":M,"show-arrow":!1,"dot-type":"line",effect:"fade",interval:5e3,duration:500,autoplay:!1},{default:p(()=>[u.videoUrl?(o(),C(c(R),{class:"video-item",key:"video"},{default:p(()=>[e("video",{src:u.videoUrl,autoplay:"",muted:"",loop:"",playsinline:""},null,8,xe)]),_:1})):i("",!0),(o(!0),n(E,null,N(u.images,(L,m)=>(o(),C(c(R),{key:"image-"+m,class:"image-item"},{default:p(()=>[e("img",{src:L,alt:`Image ${m+1}`},null,8,es)]),_:2},1024))),128))]),_:1},8,["current-index"]),e("button",{class:"nav-button next",onClick:B},ts)]),e("div",as,[e("span",null,l(k.value+1)+" / "+l(w.value),1)])])):i("",!0)]))}},ls=ce(os,[["__scopeId","data-v-b2d7762d"]]),ns=u=>(ue("data-v-e0ee5415"),u=u(),de(),u),is={key:0,class:"clinic-details"},rs={class:"container"},cs={class:"sticky-nav"},us={key:0,id:"hero-section",class:"hero-section"},ds={class:"mobile-tabs"},vs={class:"desktop-layout"},fs={class:"content-column"},hs={class:"hero-section-header"},ms={class:"clinic-name"},gs={class:"clinic-description"},_s={class:"location"},ps={key:0,class:"reviews-section"},ws={class:"reviews-box"},ys={class:"rating-text"},ks={key:0,id:"about-section",class:"about-section"},bs={key:1,id:"cases-section"},$s={class:"case-grid"},Cs=["onClick"],Is={key:0,class:"before-after"},Ss=["src","alt"],Ls=["src","alt"],Us={key:1,class:"only-after"},Es=["src","alt"],Ns={class:"description-overlay"},js={class:"description"},Ms={key:2,id:"staff-section"},Bs={class:"doctors-grid"},Ds=["src","alt"],Vs={class:"biography"},Ts={key:3,id:"price-section"},zs={class:"price-table"},Ps={key:4,id:"certifications-section"},qs={class:"certifications-grid"},Rs=["onClick"],Ws=["src","alt"],Fs={class:"sidebar-column"},Gs={class:"sections-nav"},Os={key:0},As={key:1},Xs={key:2},Ys={key:3},Hs={key:4},Js={key:5},Ks={key:1,id:"reviews-section",class:"reviews-container"},Qs={class:"reviews-overall-rating"},Zs=ns(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2L9.19 8.63L2 9.24l5.46 4.73L5.82 21z"})],-1)),xs={class:"overall-score"},et={class:"overall-count"},st={class:"reviews-carousel-container"},tt={class:"review-card"},at={key:0,class:"review-comment-wrapper"},ot=["onClick"],lt={class:"name-rating"},nt={class:"reviewer-name"},it={id:"location-section",class:"location-container"},rt={class:"fixed-bottom-overlay"},ct=["src","alt"],ut={class:"case-overlay-content"},dt={key:0,class:"before-after-large"},vt=["src","alt"],ft=["src","alt"],ht={key:1,class:"only-after-large"},mt=["src","alt"],gt={class:"case-overlay-description"},_t={__name:"ClinicDetails",setup(u){const S=Ie(),k=Se(),j=S.params.id,d=f(null),v=f({}),w=f([]),b=f([]),U=f([]),M=f([]),$=f("about"),B=f(null),_=f(null),X=f(!1),Y=s=>{B.value=s},H=s=>{_.value=s},D=f([]),y=f(null),I=f({}),L=s=>{I.value[s]=!I.value[s]},m=s=>{if(!s)return!1;const t=(s.match(/\n/g)||[]).length+1;return s.length>200||t>4};async function F(s){try{const r=await(await fetch(`/data/${s.folder}/reviews.json`)).json();return y.value=r.place_info,r.reviews}catch(t){return console.error("Error loading reviews:",t),[]}}async function ve(s){try{return(await(await fetch(`/data/${s.folder}/doctors.json`)).json()).doctors.map(g=>({...g,photo:g.image?`/data/${s.folder}/images/${g.image}`:null}))}catch(t){return console.error("Error loading doctors:",t),[]}}async function fe(s){try{const r=await(await fetch(`/data/${s.folder}/info.json`)).json();return r.images&&r.images.forEach(g=>{g.src=`/data/${s.folder}/images/${g.filename}`}),r}catch(t){return console.error("Error loading clinic info:",t),{}}}async function he(s){try{const r=await(await fetch(`/data/${s.folder}/cases.json`)).json();return r.cases.forEach(g=>{g.beforeImage&&(g.beforeSrc=`/data/${s.folder}/images/${g.beforeImage}`),g.afterSrc=`/data/${s.folder}/images/${g.afterImage}`}),r.cases}catch(t){return console.error("Error loading cases:",t),[]}}async function me(s){try{const r=await(await fetch(`/data/${s.folder}/certifications.json`)).json();return r.certifications.forEach(g=>{g.src=`/data/${s.folder}/images/${g.image}`}),r.certifications}catch(t){return console.error("Error loading certifications:",t),[]}}async function ge(s){try{return(await(await fetch(`/data/${s.folder}/prices.json`)).json()).prices}catch(t){return console.error("Error loading prices:",t),[]}}const x=f(null);async function _e(s){try{const r=await(await fetch(`/data/${s.folder}/video.json`)).json();return r.video?`/data/${s.folder}/videos/${r.video.filename}`:null}catch(t){return console.error("Error loading video:",t),null}}const ee=()=>{k.push("/editor/clinics")},se=()=>{ne.clinics.includes(parseInt(j))||ne.clinics.push(parseInt(j)),k.push("/request-offers")};oe(async()=>{window.scrollTo(0,0),d.value=Ue.find(r=>r.id===parseInt(j)),v.value=await fe(d.value),w.value=await ve(d.value),U.value=await me(d.value),b.value=await he(d.value),M.value=await ge(d.value),x.value=await _e(d.value),D.value=await F(d.value),window.addEventListener("scroll",()=>{X.value=window.scrollY>0});const s=f(window.innerWidth<768?1:3),t=()=>{s.value=window.innerWidth<768?1:3};window.addEventListener("resize",t)}),le(()=>{window.removeEventListener("resize",K)});const G=f(!1),pe=Q(()=>{var s,t,r;return((r=(t=(s=v.value)==null?void 0:s.info)==null?void 0:t.longDescription)==null?void 0:r.length)>300}),we=()=>{G.value=!G.value},V=(s,t)=>{s.preventDefault();const r=document.getElementById(t);if(r)switch(r.scrollIntoView({behavior:"smooth"}),t){case"hero-section":$.value="hero";break;case"about-section":$.value="about";break;case"cases-section":$.value="cases";break;case"staff-section":$.value="staff";break;case"price-section":$.value="price";break;case"certifications-section":$.value="certifications";break;case"location-section":$.value="location";break}};Ce($,s=>{ye(s)});const ye=s=>{let t;switch(s){case"hero":t="hero-section";break;case"about":t="about-section";break;case"cases":t="cases-section";break;case"staff":t="staff-section";break;case"price":t="price-section";break;case"certifications":t="certifications-section";break;case"location":t="location-section";break}if(t){const r=document.getElementById(t);r&&r.scrollIntoView({behavior:"smooth"})}},P=f(null),J=f(window.innerWidth<768?1:3),K=()=>{J.value=window.innerWidth<768?1:3};oe(()=>{window.addEventListener("resize",K)}),le(()=>{window.removeEventListener("resize",K)});const ke=()=>{P.value&&P.value.prev()},be=()=>{P.value&&P.value.next()};return(s,t)=>{var r,g,te;return d.value?(o(),n("div",is,[e("main",rs,[e("div",cs,[e("div",{onClick:ee,class:"back-button",style:{display:"flex","align-items":"center",gap:"8px"}},[h(c(q),null,{default:p(()=>[h(c(O))]),_:1}),A(" "+l(s.$t("message.backToClinics")),1)]),e("div",{onClick:se,class:"request-offer-button"},l(s.$t("message.requestOffers")),1)]),v.value.images&&v.value.images.length?(o(),n("section",us,[h(c(ls),{images:v.value.images.map(a=>a.src),"video-url":x.value},null,8,["images","video-url"])])):i("",!0),e("div",ds,[h(c(Ne),{type:"line",value:$.value,"onUpdate:value":t[0]||(t[0]=a=>$.value=a),animated:""},{default:p(()=>[v.value.images&&v.value.images.length?(o(),C(c(T),{key:0,name:"hero",tab:s.$t("message.photos")},null,8,["tab"])):i("",!0),v.value.info&&v.value.info.longDescription?(o(),C(c(T),{key:1,name:"about",tab:s.$t("message.aboutUs")},null,8,["tab"])):i("",!0),b.value.length?(o(),C(c(T),{key:2,name:"cases",tab:s.$t("message.ourWork")},null,8,["tab"])):i("",!0),w.value.length?(o(),C(c(T),{key:3,name:"staff",tab:s.$t("message.ourStaff")},null,8,["tab"])):i("",!0),M.value.length?(o(),C(c(T),{key:4,name:"price",tab:s.$t("message.priceCatalogue")},null,8,["tab"])):i("",!0),U.value.length?(o(),C(c(T),{key:5,name:"certifications",tab:s.$t("message.ourCertifications")},null,8,["tab"])):i("",!0),h(c(T),{name:"location",tab:s.$t("message.clinicLocation")},null,8,["tab"])]),_:1},8,["value"])]),e("div",vs,[e("div",fs,[e("div",hs,[e("h2",ms,l(d.value.name),1),e("p",gs,l(d.value.description),1),e("p",_s,l(s.$t("message.location",{location:`${d.value.town}, ${d.value.country}`})),1),d.value.rating?(o(),n("div",ps,[e("div",ws,[e("div",ys,l(Number(d.value.rating).toFixed(1)),1),h(c(ie),{value:d.value.rating,count:5,color:"var(--primary-color)",readonly:"",size:"1","allow-half":""},null,8,["value"])])])):i("",!0)]),v.value.info&&v.value.info.longDescription?(o(),n("section",ks,[e("h2",null,l(s.$t("message.aboutUs")),1),e("div",{class:z(["clinic-info",{expanded:G.value}])},[e("p",null,l(v.value.info.longDescription),1)],2),pe.value?(o(),C(c(Le),{key:0,onClick:we,class:"expand-button"},{default:p(()=>[A(l(G.value?s.$t("message.showLess"):s.$t("message.showMore")),1)]),_:1})):i("",!0)])):i("",!0),b.value.length?(o(),n("section",bs,[e("h2",null,l(s.$t("message.ourWork")),1),e("div",$s,[(o(!0),n(E,null,N(b.value,a=>(o(),n("div",{class:"card case-card",key:a.id,onClick:ae=>H(a)},[a.beforeSrc?(o(),n("div",Is,[e("img",{src:a.beforeSrc,alt:a.description+" (before)",class:"before-image"},null,8,Ss),e("img",{src:a.afterSrc,alt:a.description+" (after)",class:"after-image"},null,8,Ls)])):(o(),n("div",Us,[e("img",{src:a.afterSrc,alt:a.description+" (after)",class:"only-after-image"},null,8,Es)])),e("div",Ns,[e("p",js,[e("b",null,l(a.description),1)])])],8,Cs))),128))])])):i("",!0),w.value.length?(o(),n("section",Ms,[e("h2",null,l(s.$t("message.ourStaff")),1),e("div",Bs,[(o(!0),n(E,null,N(w.value,a=>(o(),n("div",{key:a.id,class:"doctor-card"},[e("div",null,[a.photo?(o(),n("img",{key:0,src:a.photo,alt:a.name},null,8,Ds)):i("",!0),e("div",null,[e("h3",null,l(a.name),1),e("p",null,l(a.title),1)])]),e("div",Vs,l(a.biography),1)]))),128))])])):i("",!0),M.value.length?(o(),n("section",Ts,[e("h2",null,l(s.$t("message.priceCatalogue")),1),e("table",zs,[e("thead",null,[e("tr",null,[e("th",null,l(s.$t("message.treatment")),1),e("th",null,l(s.$t("message.price")),1)])]),e("tbody",null,[(o(!0),n(E,null,N(M.value,a=>(o(),n("tr",{key:a.service},[e("td",null,l(a.service),1),e("td",null,l(a.price)+" "+l(a.currency||"€"),1)]))),128))])])])):i("",!0),U.value.length?(o(),n("section",Ps,[e("h2",null,l(s.$t("message.ourCertifications")),1),e("div",qs,[(o(!0),n(E,null,N(U.value,a=>(o(),n("div",{key:a.id,class:"card certification-card",onClick:ae=>Y(a)},[e("h3",null,l(a.name),1),e("img",{src:a.src,alt:a.name,class:"certification-icon"},null,8,Ws)],8,Rs))),128))])])):i("",!0)]),e("div",Fs,[e("div",Gs,[e("h3",null,l(s.$t("message.sections")),1),e("ul",null,[v.value&&v.value.images&&v.value.images.length?(o(),n("li",Os,[e("a",{href:"#hero-section",onClick:t[1]||(t[1]=a=>V(a,"hero-section"))},l(s.$t("message.photos")),1)])):i("",!0),v.value.info&&v.value.info.longDescription?(o(),n("li",As,[e("a",{href:"#about-section",onClick:t[2]||(t[2]=a=>V(a,"about-section"))},l(s.$t("message.aboutUs")),1)])):i("",!0),b.value.length?(o(),n("li",Xs,[e("a",{href:"#cases-section",onClick:t[3]||(t[3]=a=>V(a,"cases-section"))},l(s.$t("message.ourWork")),1)])):i("",!0),w.value.length?(o(),n("li",Ys,[e("a",{href:"#staff-section",onClick:t[4]||(t[4]=a=>V(a,"staff-section"))},l(s.$t("message.ourStaff")),1)])):i("",!0),M.value.length?(o(),n("li",Hs,[e("a",{href:"#price-section",onClick:t[5]||(t[5]=a=>V(a,"price-section"))},l(s.$t("message.priceCatalogue")),1)])):i("",!0),U.value.length?(o(),n("li",Js,[e("a",{href:"#certifications-section",onClick:t[6]||(t[6]=a=>V(a,"certifications-section"))},l(s.$t("message.ourCertifications")),1)])):i("",!0),e("li",null,[e("a",{href:"#location-section",onClick:t[7]||(t[7]=a=>V(a,"location-section"))},l(s.$t("message.clinicLocation")),1)])])])])]),D.value.length?(o(),n("section",Ks,[h(c(re)),e("div",Qs,[h(c(q),{size:"24",class:"star-icon"},{default:p(()=>[Zs]),_:1}),e("span",xs,l((g=((r=y.value)==null?void 0:r.rating)||d.value.rating)==null?void 0:g.toFixed(1)),1),e("span",et,"· "+l(((te=y.value)==null?void 0:te.reviews)||D.value.length)+" "+l(s.$t("message.reviews")),1)]),e("div",st,[e("button",{class:"review-nav-button review-prev",onClick:ke},[h(c(q),null,{default:p(()=>[h(c(O))]),_:1})]),h(c(Z),{ref_key:"reviewsCarousel",ref:P,"slides-per-view":J.value,"space-between":20,"show-dots":!1,draggable:"",loop:D.value.length>J.value,"auto-play":!1,class:"reviews-carousel"},{default:p(()=>[(o(!0),n(E,null,N(D.value,a=>(o(),C(c(R),{key:a.id,class:"review-carousel-item"},{default:p(()=>[e("div",tt,[a.comment?(o(),n("div",at,[e("div",{class:z(["review-comment",{collapsed:m(a.comment)&&!I.value[a.id]}])},l(a.comment),3),m(a.comment)?(o(),n("button",{key:0,onClick:ae=>L(a.id),class:"show-more-button"},l(I.value[a.id]?s.$t("message.showLess"):s.$t("message.showMore")),9,ot)):i("",!0)])):i("",!0),e("div",lt,[e("div",nt,l(a.name),1),h(c(ie),{value:a.score,count:5,color:"#000000",readonly:"","allow-half":"",size:"16",class:"review-stars"},null,8,["value"])])])]),_:2},1024))),128))]),_:1},8,["slides-per-view","loop"]),e("button",{class:"review-nav-button review-next",onClick:be},[h(c(q),null,{default:p(()=>[h(c(O),{style:{transform:"rotate(180deg)"}})]),_:1})])])])):i("",!0),e("section",it,[h(c(re)),e("p",null,l(d.value.address),1),h(Ee,{center:[d.value.latLng[0],d.value.latLng[1]],zoom:15},null,8,["center"])])]),e("section",rt,[e("div",{onClick:ee,class:"back-button"},[h(c(q),null,{default:p(()=>[h(c(O))]),_:1}),A(" "+l(s.$t("message.backToClinics")),1)]),e("div",{onClick:se,class:"request-offer-button"},l(s.$t("message.requestOffers")),1)]),B.value?(o(),n("div",{key:0,class:"certificate-overlay",onClick:t[8]||(t[8]=a=>B.value=null)},[e("img",{src:B.value.src,alt:B.value.name,class:"certificate-overlay-image"},null,8,ct)])):i("",!0),_.value?(o(),n("div",{key:1,class:"case-overlay",onClick:t[9]||(t[9]=a=>_.value=null)},[e("div",ut,[_.value.beforeSrc?(o(),n("div",dt,[e("img",{src:_.value.beforeSrc,alt:_.value.description+" (before)"},null,8,vt),e("img",{src:_.value.afterSrc,alt:_.value.description+" (after)"},null,8,ft)])):(o(),n("div",ht,[e("img",{src:_.value.afterSrc,alt:_.value.description+" (after)"},null,8,mt)])),e("p",gt,[e("b",null,l(_.value.description),1)])])])):i("",!0)])):i("",!0)}}},$t=ce(_t,[["__scopeId","data-v-e0ee5415"]]);export{$t as default};
