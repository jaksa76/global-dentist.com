import{_ as T,v as g,c as L,o,k as i,l as e,m as N,w as $,F as y,W as b,U as j,p as f,q as D,t,n as H,S as v,r as U,s as V,aJ as q,j as x,X as z,B as A}from"./index-Bo6RbyAZ.js";import{h as J}from"./HotelImageGallery.vue_vue_type_style_index_0_scoped_db97bc84_lang-6FqjvH7R.js";import{b as C}from"./state-DfIyutr0.js";import{b as M,N as G,a as O}from"./Rate-BVxyqhfG.js";const k=r=>(U("data-v-db97bc84"),r=r(),V(),r),P={class:"hotel-image-gallery"},W={class:"mobile-carousel"},X=k(()=>e("i",{class:"fa fa-chevron-left"},null,-1)),K=[X],Q=["src","alt","onLoad"],Y=k(()=>e("i",{class:"fa fa-chevron-right"},null,-1)),Z=[Y],ee={class:"mobile-carousel-footer"},se={class:"gallery-grid"},te={class:"gallery-container"},ae=["onClick"],oe=["src","alt","onLoad"],le={key:0,class:"gallery-modal"},ne=k(()=>e("i",{class:"fa fa-times"},null,-1)),ce={class:"modal-content"},ie=k(()=>e("i",{class:"fa fa-chevron-left"},null,-1)),re=[ie],ue=["src","alt"],de=k(()=>e("i",{class:"fa fa-chevron-right"},null,-1)),ve=[de],he={class:"modal-footer"},me={__name:"HotelImageGallery",props:{images:{type:Array,required:!0}},setup(r){const S=r,u=g(0),p=g(!1),c=g(new Set),n=L(()=>S.images.length),m=d=>{c.value.add(d)},h=d=>{u.value=d},w=()=>{u.value=(u.value-1+n.value)%n.value},_=()=>{u.value=(u.value+1)%n.value},B=d=>{u.value=d,p.value=!0,document.body.style.overflow="hidden"},I=()=>{p.value=!1,document.body.style.overflow="auto"};return(d,E)=>(o(),i("div",P,[e("div",W,[e("button",{class:"nav-button prev",onClick:w},K),N(f(G),{"current-index":u.value,"onUpdate:currentIndex":h,"show-arrow":!1,interval:5e3,duration:500,autoplay:!1},{default:$(()=>[(o(!0),i(y,null,b(r.images,(s,a)=>(o(),j(f(M),{key:"image-"+a,class:"image-item"},{default:$(()=>[e("img",{src:s,alt:`Hotel Image ${a+1}`,onLoad:l=>m(a),class:D({"image-loaded":c.value.has(a)})},null,42,Q)]),_:2},1024))),128))]),_:1},8,["current-index"]),e("button",{class:"nav-button next",onClick:_},Z),e("div",ee,[e("span",null,t(u.value+1)+" / "+t(n.value),1)])]),e("div",se,[e("div",te,[(o(!0),i(y,null,b(r.images,(s,a)=>(o(),i("div",{key:"image-"+a,class:"gallery-item",onClick:l=>B(a)},[e("img",{src:s,alt:`Hotel Image ${a+1}`,onLoad:l=>m(a),class:D({"image-loaded":c.value.has(a)})},null,42,oe)],8,ae))),128))])]),p.value?(o(),i("div",le,[e("div",{class:"modal-header"},[e("button",{class:"close-button",onClick:I},[ne,H(" Close ")])]),e("div",ce,[e("button",{class:"nav-button prev",onClick:w},re),N(f(G),{"current-index":u.value,"onUpdate:currentIndex":h,"show-arrow":!1,"dot-type":"line",effect:"fade",interval:5e3,duration:500,autoplay:!1},{default:$(()=>[(o(!0),i(y,null,b(r.images,(s,a)=>(o(),j(f(M),{key:"image-"+a,class:"image-item"},{default:$(()=>[e("img",{src:s,alt:`Hotel Image ${a+1}`,class:"modal-image"},null,8,ue)]),_:2},1024))),128))]),_:1},8,["current-index"]),e("button",{class:"nav-button next",onClick:_},ve)]),e("div",he,[e("span",null,t(u.value+1)+" / "+t(n.value),1)])])):v("",!0)]))}},_e=T(me,[["__scopeId","data-v-db97bc84"]]),F=r=>(U("data-v-8b5a84df"),r=r(),V(),r),ge={key:0,class:"hotel-details"},fe={class:"container"},pe={class:"sticky-nav"},$e=F(()=>e("span",{class:"icon-back"},"←",-1)),ye={key:0,class:"selected-hotel-info"},be={key:0,class:"hero-section"},ke={class:"hero-section-header"},we={class:"location"},Ie={class:"reviews-section"},Ce={class:"reviews-box"},He={class:"rating-text"},Ne={key:1},Se={key:2},Be={class:"amenities-grid"},Le={key:3},je={class:"rooms-grid"},De={class:"price"},Ee={class:"fixed-bottom-overlay"},Me={key:0,class:"selected-hotel-info-mobile"},Ge=F(()=>e("span",{class:"icon-back"},"←",-1)),Te={__name:"HotelDetails",setup(r){const S=q(),u=x(),p=S.params.name,c=g(null),n=g({}),m=g([]),h=L(()=>C.hotels.some(s=>{var a;return s.name===((a=c.value)==null?void 0:a.name)})),w=L(()=>{var s,a,l;return((l=(a=(s=n.value)==null?void 0:s.info)==null?void 0:a.description)==null?void 0:l.length)>300}),_=g(!1),B=()=>{_.value=!_.value},I=()=>{u.push("/editor/accommodation")},d=()=>{h.value?C.hotels=C.hotels.filter(s=>s.name!==c.value.name):C.hotels.push(c.value)};async function E(s){try{const l=await(await fetch(`/hotels/${s.folder}/images.json`)).json();return l.images=l.images.map(R=>`/hotels/${s.folder}/images/${R}`),l.images}catch(a){return console.error("Error loading images:",a),[]}}return z(async()=>{if(c.value=J.find(s=>s.folder===p),c.value){try{const s=await fetch(`/hotels/${c.value.folder}/info.json`);n.value=await s.json()}catch(s){console.error("Error loading hotel info:",s),n.value={}}m.value=await E(c.value)}}),(s,a)=>c.value?(o(),i("div",ge,[e("main",fe,[e("div",pe,[e("div",{onClick:I,class:"back-button"},[$e,H(" "+t(s.$t("message.backToHotels")),1)]),e("div",{onClick:d,class:"select-hotel-button"},t(h.value?s.$t("message.deselect"):s.$t("message.select")),1),h.value?(o(),i("div",ye,[e("h2",null,t(s.$t("message.selected")),1)])):v("",!0)]),m.value&&m.value.length?(o(),i("section",be,[N(f(_e),{images:m.value},null,8,["images"]),e("div",ke,[e("h2",null,t(c.value.name),1),e("p",we,t(s.$t("message.location",{location:`${c.value.city}, ${c.value.country}`})),1),e("div",Ie,[e("div",Ce,[e("div",He,t(Number(c.value.rating).toFixed(1)),1),N(f(O),{value:c.value.rating,count:5,color:"var(--primary-color)",readonly:"",size:"1","allow-half":""},null,8,["value"])])])])])):v("",!0),n.value.info&&n.value.info.description?(o(),i("section",Ne,[e("h2",null,t(s.$t("message.aboutUs")),1),e("div",{class:D(["hotel-info",{expanded:_.value}])},[e("p",null,t(n.value.info.description),1)],2),w.value?(o(),j(f(A),{key:0,onClick:B,class:"expand-button"},{default:$(()=>[H(t(_.value?s.$t("message.showLess"):s.$t("message.showMore")),1)]),_:1})):v("",!0)])):v("",!0),n.value.amenities&&n.value.amenities.length?(o(),i("section",Se,[e("h2",null,t(s.$t("message.amenities")),1),e("div",Be,[(o(!0),i(y,null,b(n.value.amenities,l=>(o(),i("div",{key:l.name,class:"amenity-item"},[e("h3",null,t(l.name),1),e("p",null,t(l.description),1)]))),128))])])):v("",!0),n.value.rooms&&n.value.rooms.length?(o(),i("section",Le,[e("h2",null,t(s.$t("message.roomTypes")),1),e("div",je,[(o(!0),i(y,null,b(n.value.rooms,l=>(o(),i("div",{key:l.type,class:"room-card"},[e("h3",null,t(l.type),1),e("p",null,t(l.description),1),e("p",De,t(l.price)+" "+t(l.currency||"€")+"/night",1)]))),128))])])):v("",!0),e("section",Ee,[h.value?(o(),i("div",Me,[e("h2",null,t(s.$t("message.selected")),1)])):v("",!0),e("div",{onClick:I,class:"back-button"},[Ge,H(" "+t(s.$t("message.backToHotels")),1)]),e("div",{onClick:d,class:"select-hotel-button"},t(h.value?s.$t("message.deselect"):s.$t("message.select")),1)])])])):v("",!0)}},qe=T(Te,[["__scopeId","data-v-8b5a84df"]]);export{qe as default};
