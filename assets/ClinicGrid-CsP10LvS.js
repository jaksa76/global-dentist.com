import{c as de}from"./clinics-pj_Da-X1.js";import{ad as te,ae as ue,c as _,x as k,af as fe,I as pe,d as Q,J as ve,ag as D,i as M,ah as me,u as he,ai as V,X as se,H as ge,aj as J,ak as _e,ac as L,al as ye,am as Se,h as be,an as W,o as b,k as G,l as v,_ as ne,U as ie,j as we,a3 as Y,W as X,w as C,p as h,F as re,$ as ae,t as S,V as O,m as $,B as q,n as Z,q as Ce,a9 as Re,aa as K,a0 as $e,ab as Ne,a7 as xe,s as j,r as Ge,v as ke}from"./index-CB4KVYo_.js";import{p as P}from"./prices-Sgi2l8nr.js";/* empty css                                                                     */import{N as Be}from"./Carousel-DuGMmvPa.js";import{N as Ie}from"./Rate-ClCQj1xq.js";import{g as Ee,N as Te}from"./Space-U0p2aw2a.js";function De(e){if(typeof e=="number")return{"":e.toString()};const n={};return e.split(/ +/).forEach(s=>{if(s==="")return;const[t,i]=s.split(":");i===void 0?n[""]=t:n[t]=i}),n}function T(e,n){var s;if(e==null)return;const t=De(e);if(n===void 0)return t[""];if(typeof n=="string")return(s=t[n])!==null&&s!==void 0?s:t[""];if(Array.isArray(n)){for(let i=n.length-1;i>=0;--i){const a=n[i];if(a in t)return t[a]}return t[""]}else{let i,a=-1;return Object.keys(t).forEach(c=>{const d=Number(c);!Number.isNaN(d)&&n>=d&&d>=a&&(a=d,i=t[c])}),i}}function Ae(e){var n;const s=(n=e.dirs)===null||n===void 0?void 0:n.find(({dir:t})=>t===te);return!!(s&&s.value===!1)}const Me={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function Ve(e){return`(min-width: ${e}px)`}const A={};function je(e=Me){if(!ue)return _(()=>[]);if(typeof window.matchMedia!="function")return _(()=>[]);const n=k({}),s=Object.keys(e),t=(i,a)=>{i.matches?n.value[a]=!0:n.value[a]=!1};return s.forEach(i=>{const a=e[i];let c,d;A[a]===void 0?(c=window.matchMedia(Ve(a)),c.addEventListener?c.addEventListener("change",m=>{d.forEach(p=>{p(m,i)})}):c.addListener&&c.addListener(m=>{d.forEach(p=>{p(m,i)})}),d=new Set,A[a]={mql:c,cbs:d}):(c=A[a].mql,d=A[a].cbs),d.add(t),c.matches&&d.forEach(m=>{m(c,i)})}),fe(()=>{s.forEach(i=>{const{cbs:a}=A[e[i]];a.has(t)&&a.delete(t)})}),_(()=>{const{value:i}=n;return s.filter(a=>i[a])})}const ee=1,oe=pe("n-grid"),le=1,Pe={span:{type:[Number,String],default:le},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}},Fe=Q({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:Pe,setup(){const{isSsrRef:e,xGapRef:n,itemStyleRef:s,overflowRef:t,layoutShiftDisabledRef:i}=ve(oe),a=me();return{overflow:t,itemStyle:s,layoutShiftDisabled:i,mergedXGap:_(()=>D(n.value||0)),deriveStyle:()=>{e.value;const{privateSpan:c=le,privateShow:d=!0,privateColStart:m=void 0,privateOffset:p=0}=a.vnode.props,{value:R}=n,r=D(R||0);return{display:d?"":"none",gridColumn:`${m??`span ${c}`} / span ${c}`,marginLeft:p?`calc((100% - (${c} - 1) * ${r}) / ${c} * ${p} + ${r} * ${p})`:""}}}},render(){var e,n;if(this.layoutShiftDisabled){const{span:s,offset:t,mergedXGap:i}=this;return M("div",{style:{gridColumn:`span ${s} / span ${s}`,marginLeft:t?`calc((100% - (${s} - 1) * ${i}) / ${s} * ${t} + ${i} * ${t})`:""}},this.$slots)}return M("div",{style:[this.itemStyle,this.deriveStyle()]},(n=(e=this.$slots).default)===null||n===void 0?void 0:n.call(e,{overflow:this.overflow}))}}),Oe={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},ce=24,z="__ssr__",ze={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:ce},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}},Le=Q({name:"Grid",inheritAttrs:!1,props:ze,setup(e){const{mergedClsPrefixRef:n,mergedBreakpointsRef:s}=he(e),t=/^\d+$/,i=k(void 0),a=je((s==null?void 0:s.value)||Oe),c=V(()=>!!(e.itemResponsive||!t.test(e.cols.toString())||!t.test(e.xGap.toString())||!t.test(e.yGap.toString()))),d=_(()=>{if(c.value)return e.responsive==="self"?i.value:a.value}),m=V(()=>{var f;return(f=Number(T(e.cols.toString(),d.value)))!==null&&f!==void 0?f:ce}),p=V(()=>T(e.xGap.toString(),d.value)),R=V(()=>T(e.yGap.toString(),d.value)),r=f=>{i.value=f.contentRect.width},l=f=>{Se(r,f)},u=k(!1),y=_(()=>{if(e.responsive==="self")return l}),g=k(!1),w=k();return se(()=>{const{value:f}=w;f&&f.hasAttribute(z)&&(f.removeAttribute(z),g.value=!0)}),ge(oe,{layoutShiftDisabledRef:J(e,"layoutShiftDisabled"),isSsrRef:g,itemStyleRef:J(e,"itemStyle"),xGapRef:p,overflowRef:u}),{isSsr:!_e,contentEl:w,mergedClsPrefix:n,style:_(()=>e.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${e.cols}, minmax(0, 1fr))`,columnGap:D(e.xGap),rowGap:D(e.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${m.value}, minmax(0, 1fr))`,columnGap:D(p.value),rowGap:D(R.value)}),isResponsive:c,responsiveQuery:d,responsiveCols:m,handleResize:y,overflow:u}},render(){if(this.layoutShiftDisabled)return M("div",L({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const e=()=>{var n,s,t,i,a,c,d;this.overflow=!1;const m=be(Ee(this)),p=[],{collapsed:R,collapsedRows:r,responsiveCols:l,responsiveQuery:u}=this;m.forEach(o=>{var N,B,x,I,F;if(((N=o==null?void 0:o.type)===null||N===void 0?void 0:N.__GRID_ITEM__)!==!0)return;if(Ae(o)){const E=W(o);E.props?E.props.privateShow=!1:E.props={privateShow:!1},p.push({child:E,rawChildSpan:0});return}o.dirs=((B=o.dirs)===null||B===void 0?void 0:B.filter(({dir:E})=>E!==te))||null,((x=o.dirs)===null||x===void 0?void 0:x.length)===0&&(o.dirs=null);const H=W(o),U=Number((F=T((I=H.props)===null||I===void 0?void 0:I.span,u))!==null&&F!==void 0?F:ee);U!==0&&p.push({child:H,rawChildSpan:U})});let y=0;const g=(n=p[p.length-1])===null||n===void 0?void 0:n.child;if(g!=null&&g.props){const o=(s=g.props)===null||s===void 0?void 0:s.suffix;o!==void 0&&o!==!1&&(y=Number((i=T((t=g.props)===null||t===void 0?void 0:t.span,u))!==null&&i!==void 0?i:ee),g.props.privateSpan=y,g.props.privateColStart=l+1-y,g.props.privateShow=(a=g.props.privateShow)!==null&&a!==void 0?a:!0)}let w=0,f=!1;for(const{child:o,rawChildSpan:N}of p){if(f&&(this.overflow=!0),!f){const B=Number((d=T((c=o.props)===null||c===void 0?void 0:c.offset,u))!==null&&d!==void 0?d:0),x=Math.min(N+B,l);if(o.props?(o.props.privateSpan=x,o.props.privateOffset=B):o.props={privateSpan:x,privateOffset:B},R){const I=w%l;x+I>l&&(w+=l-I),x+w+y>r*l?f=!0:w+=x}}f&&(o.props?o.props.privateShow!==!0&&(o.props.privateShow=!1):o.props={privateShow:!1})}return M("div",L({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[z]:this.isSsr||void 0},this.$attrs),p.map(({child:o})=>o))};return this.isResponsive&&this.responsive==="self"?M(ye,{onResize:this.handleResize},{default:e}):e()}}),Xe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},qe=v("path",{d:"M472 168H40a24 24 0 0 1 0-48h432a24 24 0 0 1 0 48z",fill:"currentColor"},null,-1),Qe=v("path",{d:"M392 280H120a24 24 0 0 1 0-48h272a24 24 0 0 1 0 48z",fill:"currentColor"},null,-1),He=v("path",{d:"M296 392h-80a24 24 0 0 1 0-48h80a24 24 0 0 1 0 48z",fill:"currentColor"},null,-1),Ue=[qe,Qe,He],Je=Q({name:"Filter",render:function(n,s){return b(),G("svg",Xe,Ue)}}),We={style:{height:"200px !important",position:"relative"}},Ye=["src"],Ze=["src"],Ke={key:2,class:"overlay"},et={class:"card-content"},tt={class:"card-content-top"},st={class:"content-left"},nt={class:"card-title"},it={class:"card-description"},rt={key:0,class:"treatment-price"},at={class:"from"},ot={class:"price"},lt={class:"card-content-bottom"},ct={class:"card-location"},dt={key:0,class:"hotel-rating"},ut={class:"hotel-rating-count"},ft={class:"footer"},pt={class:"actions"},vt={__name:"ClinicCard",props:{id:Number,name:String,description:String,rating:Number,images:Array,country:String,town:String,initiallySelected:{type:Boolean,default:!1},selectedTreatments:{type:Array,default:()=>[]}},emits:["select","deselect"],setup(e,{emit:n}){ie();const s=k(!1),t=e,i=n,a=we(),c=()=>{a.push(`/clinic/${t.id}`)};se(()=>{s.value=t.initiallySelected});const d=()=>{s.value=!s.value,i(s.value?"select":"deselect",t.id)},m=()=>{let r=0;const l=P[t.id];if(!l)return 0;for(const u of t.selectedTreatments)if(l[u])r+=l[u];else return 0;return r},p=_(()=>Math.round(m()*Y.rate)),R=_(()=>{if(t.selectedTreatments.length===0)return!1;const r=P[t.id];if(!r)return!1;for(const l of t.selectedTreatments)if(!r[l])return!1;return m()>0});return(r,l)=>(b(),X(h(Re),{size:"small",embedded:"",hoverable:"",class:Ce({card:!0,selected:s.value})},{cover:C(()=>[v("div",We,[e.images.length>1?(b(),X(h(Be),{key:0,draggable:""},{default:C(()=>[(b(!0),G(re,null,ae(e.images,u=>(b(),G("img",{class:"clinic-image",src:u,alt:"Clinic Image"},null,8,Ye))),256))]),_:1})):(b(),G("img",{key:1,class:"clinic-image",src:e.images[0],alt:"Clinic Image"},null,8,Ze)),s.value?(b(),G("div",Ke,S(r.$t("message.selected")),1)):O("",!0)])]),default:C(()=>[v("div",et,[v("div",null,[v("div",tt,[v("div",st,[v("div",nt,S(e.name),1),v("div",it,S(e.description),1)]),R.value?(b(),G("div",rt,[v("p",at,S(r.$t("message.from")),1),v("p",ot,S(h(Y).getSymbol())+S(p.value),1)])):O("",!0)]),v("div",lt,[v("div",ct,S(e.town)+", "+S(e.country),1),e.rating?(b(),G("div",dt,[$(h(Ie),{value:1,count:1,readonly:"",size:"small"}),v("span",ut,S(Number(e.rating).toFixed(1)),1)])):O("",!0)])]),v("div",ft,[v("div",pt,[$(h(q),{style:{margin:"0"},class:"action-button",onClick:c},{default:C(()=>[Z(S(r.$t("message.details")),1)]),_:1}),$(h(q),{style:{margin:"0"},class:"action-button",type:"primary",onClick:d},{default:C(()=>[Z(S(s.value?r.$t("message.deselect"):r.$t("message.select")),1)]),_:1})])])])]),_:1},8,["class"]))}},mt=ne(vt,[["__scopeId","data-v-3bd9f593"]]),ht=e=>(Ge("data-v-c7b5f308"),e=e(),ke(),e),gt={class:"clinic-selection"},_t={class:"title-line"},yt={class:"online-hotels-title"},St=ht(()=>v("hr",{class:"online-hotels-divider"},null,-1)),bt={class:"grid"},wt={__name:"ClinicGrid",setup(e){const{t:n}=ie(),s=k("default"),t=k("desc"),i=_(()=>[{label:n("sort.default"),key:"default"},{type:"divider"},{label:n("sort.rating"),key:"rating-desc"},{label:n("sort.price"),key:"price-asc"}]),a=r=>{if(r==="default"){s.value="default",t.value="desc";return}const[l,u]=r.split("-");s.value=l,t.value=u},c=_(()=>{const r=d.value;return s.value==="default"?r:[...r].sort((l,u)=>{var y,g;if(s.value==="rating"){const w=t.value==="asc"?1:-1,f=typeof l.rating=="number"?l.rating:-1/0,o=typeof u.rating=="number"?u.rating:-1/0;return(f-o)*w}if(s.value==="price"){const w=t.value==="asc"?1:-1,f=R.value[0];if(!f)return 0;const o=(y=P[l.id])==null?void 0:y[f],N=(g=P[u.id])==null?void 0:g[f];return o===void 0&&N===void 0?0:o===void 0?1:N===void 0?-1:(o-N)*w}return 0})}),d=_(()=>{const r=de.filter(l=>!l.hidden);return K.country==="All"?r:r.filter(l=>l.country===K.country)}),m=r=>{j.clinics.push(r)},p=r=>{j.clinics=j.clinics.filter(l=>l!==r)},R=_(()=>{const r=[];for(const[l,u]of Object.entries($e.treatments))for(let y=0;y<u;y++)r.push(l);return r});return(r,l)=>(b(),G("div",gt,[v("div",_t,[v("h2",yt,S(h(n)("message.partnerClinics")),1),St,$(h(Te),{justify:"end",align:"center",class:"filter-container"},{default:C(()=>[$(h(Ne),{trigger:"click",options:i.value,onSelect:a},{default:C(()=>[$(h(q),null,{icon:C(()=>[$(h(xe),null,{default:C(()=>[$(h(Je))]),_:1})]),_:1})]),_:1},8,["options"])]),_:1})]),v("div",bt,[$(h(Le),{"x-gap":16,"y-gap":24,cols:"1 600:2 900:3 1200:4"},{default:C(()=>[(b(!0),G(re,null,ae(c.value,u=>(b(),X(h(Fe),{key:u.id},{default:C(()=>[$(h(mt),L({initiallySelected:h(j).clinics.includes(u.id),ref_for:!0},u,{onSelect:m,onDeselect:p,selectedTreatments:R.value}),null,16,["initiallySelected","selectedTreatments"])]),_:2},1024))),128))]),_:1})])]))}},Bt=ne(wt,[["__scopeId","data-v-c7b5f308"]]);export{Bt as C,Je as F,Fe as N,Le as a};
