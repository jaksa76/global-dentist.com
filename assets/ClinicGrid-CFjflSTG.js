import{c as X}from"./clinics-DqPopm-J.js";import{a7 as ee,a8 as ce,c as y,x,a9 as de,I as ue,d as te,J as fe,aa as T,i as V,ab as pe,u as ve,ac as M,a2 as se,H as me,ad as U,ae as he,af as F,ag as ge,ah as _e,h as ye,ai as Y,_ as ne,U as Se,j as be,a0 as H,o as _,W as q,w as N,l as v,p as b,k as w,F as ie,Y as ae,t as g,V as L,m as A,B as J,n as W,q as Re,aj as we,Z as Ce,s as P}from"./index-CC1aYuAQ.js";import{p as Z}from"./prices-Sgi2l8nr.js";/* empty css                                                                     */import{N as $e,a as Ne}from"./Rate-i6e_IZBT.js";import{g as xe}from"./get-slot-Bk_rJcZu.js";function Ge(e){if(typeof e=="number")return{"":e.toString()};const a={};return e.split(/ +/).forEach(s=>{if(s==="")return;const[t,n]=s.split(":");n===void 0?a[""]=t:a[t]=n}),a}function E(e,a){var s;if(e==null)return;const t=Ge(e);if(a===void 0)return t[""];if(typeof a=="string")return(s=t[a])!==null&&s!==void 0?s:t[""];if(Array.isArray(a)){for(let n=a.length-1;n>=0;--n){const r=a[n];if(r in t)return t[r]}return t[""]}else{let n,r=-1;return Object.keys(t).forEach(o=>{const i=Number(o);!Number.isNaN(i)&&a>=i&&i>=r&&(r=i,n=t[o])}),n}}function Be(e){var a;const s=(a=e.dirs)===null||a===void 0?void 0:a.find(({dir:t})=>t===ee);return!!(s&&s.value===!1)}const ke={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function Ee(e){return`(min-width: ${e}px)`}const D={};function Te(e=ke){if(!ce)return y(()=>[]);if(typeof window.matchMedia!="function")return y(()=>[]);const a=x({}),s=Object.keys(e),t=(n,r)=>{n.matches?a.value[r]=!0:a.value[r]=!1};return s.forEach(n=>{const r=e[n];let o,i;D[r]===void 0?(o=window.matchMedia(Ee(r)),o.addEventListener?o.addEventListener("change",d=>{i.forEach(l=>{l(d,n)})}):o.addListener&&o.addListener(d=>{i.forEach(l=>{l(d,n)})}),i=new Set,D[r]={mql:o,cbs:i}):(o=D[r].mql,i=D[r].cbs),i.add(t),o.matches&&i.forEach(d=>{d(o,n)})}),de(()=>{s.forEach(n=>{const{cbs:r}=D[e[n]];r.has(t)&&r.delete(t)})}),y(()=>{const{value:n}=a;return s.filter(r=>n[r])})}const K=1,re=ue("n-grid"),oe=1,Ie={span:{type:[Number,String],default:oe},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}},De=te({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:Ie,setup(){const{isSsrRef:e,xGapRef:a,itemStyleRef:s,overflowRef:t,layoutShiftDisabledRef:n}=fe(re),r=pe();return{overflow:t,itemStyle:s,layoutShiftDisabled:n,mergedXGap:y(()=>T(a.value||0)),deriveStyle:()=>{e.value;const{privateSpan:o=oe,privateShow:i=!0,privateColStart:d=void 0,privateOffset:l=0}=r.vnode.props,{value:S}=a,u=T(S||0);return{display:i?"":"none",gridColumn:`${d??`span ${o}`} / span ${o}`,marginLeft:l?`calc((100% - (${o} - 1) * ${u}) / ${o} * ${l} + ${u} * ${l})`:""}}}},render(){var e,a;if(this.layoutShiftDisabled){const{span:s,offset:t,mergedXGap:n}=this;return V("div",{style:{gridColumn:`span ${s} / span ${s}`,marginLeft:t?`calc((100% - (${s} - 1) * ${n}) / ${s} * ${t} + ${n} * ${t})`:""}},this.$slots)}return V("div",{style:[this.itemStyle,this.deriveStyle()]},(a=(e=this.$slots).default)===null||a===void 0?void 0:a.call(e,{overflow:this.overflow}))}}),Ve={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},le=24,O="__ssr__",Ae={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:le},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}},Me=te({name:"Grid",inheritAttrs:!1,props:Ae,setup(e){const{mergedClsPrefixRef:a,mergedBreakpointsRef:s}=ve(e),t=/^\d+$/,n=x(void 0),r=Te((s==null?void 0:s.value)||Ve),o=M(()=>!!(e.itemResponsive||!t.test(e.cols.toString())||!t.test(e.xGap.toString())||!t.test(e.yGap.toString()))),i=y(()=>{if(o.value)return e.responsive==="self"?n.value:r.value}),d=M(()=>{var f;return(f=Number(E(e.cols.toString(),i.value)))!==null&&f!==void 0?f:le}),l=M(()=>E(e.xGap.toString(),i.value)),S=M(()=>E(e.yGap.toString(),i.value)),u=f=>{n.value=f.contentRect.width},p=f=>{_e(u,f)},h=x(!1),G=y(()=>{if(e.responsive==="self")return p}),m=x(!1),C=x();return se(()=>{const{value:f}=C;f&&f.hasAttribute(O)&&(f.removeAttribute(O),m.value=!0)}),me(re,{layoutShiftDisabledRef:U(e,"layoutShiftDisabled"),isSsrRef:m,itemStyleRef:U(e,"itemStyle"),xGapRef:l,overflowRef:h}),{isSsr:!he,contentEl:C,mergedClsPrefix:a,style:y(()=>e.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${e.cols}, minmax(0, 1fr))`,columnGap:T(e.xGap),rowGap:T(e.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${d.value}, minmax(0, 1fr))`,columnGap:T(l.value),rowGap:T(S.value)}),isResponsive:o,responsiveQuery:i,responsiveCols:d,handleResize:G,overflow:h}},render(){if(this.layoutShiftDisabled)return V("div",F({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const e=()=>{var a,s,t,n,r,o,i;this.overflow=!1;const d=ye(xe(this)),l=[],{collapsed:S,collapsedRows:u,responsiveCols:p,responsiveQuery:h}=this;d.forEach(c=>{var I,$,R,B,j;if(((I=c==null?void 0:c.type)===null||I===void 0?void 0:I.__GRID_ITEM__)!==!0)return;if(Be(c)){const k=Y(c);k.props?k.props.privateShow=!1:k.props={privateShow:!1},l.push({child:k,rawChildSpan:0});return}c.dirs=(($=c.dirs)===null||$===void 0?void 0:$.filter(({dir:k})=>k!==ee))||null,((R=c.dirs)===null||R===void 0?void 0:R.length)===0&&(c.dirs=null);const z=Y(c),Q=Number((j=E((B=z.props)===null||B===void 0?void 0:B.span,h))!==null&&j!==void 0?j:K);Q!==0&&l.push({child:z,rawChildSpan:Q})});let G=0;const m=(a=l[l.length-1])===null||a===void 0?void 0:a.child;if(m!=null&&m.props){const c=(s=m.props)===null||s===void 0?void 0:s.suffix;c!==void 0&&c!==!1&&(G=Number((n=E((t=m.props)===null||t===void 0?void 0:t.span,h))!==null&&n!==void 0?n:K),m.props.privateSpan=G,m.props.privateColStart=p+1-G,m.props.privateShow=(r=m.props.privateShow)!==null&&r!==void 0?r:!0)}let C=0,f=!1;for(const{child:c,rawChildSpan:I}of l){if(f&&(this.overflow=!0),!f){const $=Number((i=E((o=c.props)===null||o===void 0?void 0:o.offset,h))!==null&&i!==void 0?i:0),R=Math.min(I+$,p);if(c.props?(c.props.privateSpan=R,c.props.privateOffset=$):c.props={privateSpan:R,privateOffset:$},S){const B=C%p;R+B>p&&(C+=p-B),R+C+G>u*p?f=!0:C+=R}}f&&(c.props?c.props.privateShow!==!0&&(c.props.privateShow=!1):c.props={privateShow:!1})}return V("div",F({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[O]:this.isSsr||void 0},this.$attrs),l.map(({child:c})=>c))};return this.isResponsive&&this.responsive==="self"?V(ge,{onResize:this.handleResize},{default:e}):e()}}),Pe={style:{height:"200px !important",position:"relative"}},je=["src"],Le=["src"],Oe={key:2,class:"overlay"},Fe={class:"card-content"},qe={class:"card-content-top"},ze={class:"content-left"},Qe={class:"card-title"},Xe={class:"card-description"},Ue={key:0,class:"treatment-price"},Ye={class:"from"},He={class:"price"},Je={class:"card-content-bottom"},We={class:"card-location"},Ze={key:0,class:"hotel-rating"},Ke={class:"hotel-rating-count"},et={class:"footer"},tt={class:"actions"},st={__name:"ClinicCard",props:{id:Number,name:String,description:String,rating:Number,images:Array,country:String,town:String,initiallySelected:{type:Boolean,default:!1},selectedTreatments:{type:Array,default:()=>[]}},emits:["select","deselect"],setup(e,{emit:a}){Se();const s=x(!1),t=e,n=a,r=be(),o=()=>{r.push(`/clinic/${t.id}`)};se(()=>{s.value=t.initiallySelected});const i=()=>{s.value=!s.value,n(s.value?"select":"deselect",t.id)},d=()=>{let u=0;const p=Z[t.id];if(!p)return 0;for(const h of t.selectedTreatments)if(p[h])u+=p[h];else return 0;return u},l=y(()=>Math.round(d()*H.rate)),S=y(()=>{if(t.selectedTreatments.length===0)return!1;const u=Z[t.id];if(!u)return!1;for(const p of t.selectedTreatments)if(!u[p])return!1;return d()>0});return(u,p)=>(_(),q(b(we),{size:"small",embedded:"",hoverable:"",class:Re({card:!0,selected:s.value})},{cover:N(()=>[v("div",Pe,[e.images.length>1?(_(),q(b($e),{key:0,draggable:""},{default:N(()=>[(_(!0),w(ie,null,ae(e.images,h=>(_(),w("img",{class:"clinic-image",src:h,alt:"Clinic Image"},null,8,je))),256))]),_:1})):(_(),w("img",{key:1,class:"clinic-image",src:e.images[0],alt:"Clinic Image"},null,8,Le)),s.value?(_(),w("div",Oe,g(u.$t("message.selected")),1)):L("",!0)])]),default:N(()=>[v("div",Fe,[v("div",null,[v("div",qe,[v("div",ze,[v("div",Qe,g(e.name),1),v("div",Xe,g(e.description),1)]),S.value?(_(),w("div",Ue,[v("p",Ye,g(u.$t("message.from")),1),v("p",He,g(b(H).getSymbol())+g(l.value),1)])):L("",!0)]),v("div",Je,[v("div",We,g(e.town)+", "+g(e.country),1),e.rating?(_(),w("div",Ze,[A(b(Ne),{value:1,count:1,readonly:"",size:"small"}),v("span",Ke,g(Number(e.rating).toFixed(1)),1)])):L("",!0)])]),v("div",et,[v("div",tt,[A(b(J),{style:{margin:"0"},class:"action-button",onClick:o},{default:N(()=>[W(g(u.$t("message.details")),1)]),_:1}),A(b(J),{style:{margin:"0"},class:"action-button",type:"primary",onClick:i},{default:N(()=>[W(g(s.value?u.$t("message.deselect"):u.$t("message.select")),1)]),_:1})])])])]),_:1},8,["class"]))}},nt=ne(st,[["__scopeId","data-v-3bd9f593"]]),it={class:"clinic-selection"},at={class:"grid"},rt={__name:"ClinicGrid",emits:["change"],setup(e,{emit:a}){const s=x("Global"),t=y(()=>s.value==="Global"?X:X.filter(i=>(i.country+i.town).includes(s.value))),n=i=>{P.clinics.push(i)},r=i=>{P.clinics=P.clinics.filter(d=>d!==i)},o=y(()=>{const i=[];for(const[d,l]of Object.entries(Ce.treatments))for(let S=0;S<l;S++)i.push(d);return i});return(i,d)=>(_(),w("div",it,[v("div",at,[A(b(Me),{"x-gap":16,"y-gap":24,cols:"1 600:2 900:3 1200:4"},{default:N(()=>[(_(!0),w(ie,null,ae(t.value,l=>(_(),q(b(De),{key:l.id},{default:N(()=>[A(b(nt),F({initiallySelected:b(P).clinics.includes(l.id),ref_for:!0},l,{onSelect:n,onDeselect:r,selectedTreatments:o.value}),null,16,["initiallySelected","selectedTreatments"])]),_:2},1024))),128))]),_:1})])]))}},pt=ne(rt,[["__scopeId","data-v-420412bc"]]);export{pt as C};
