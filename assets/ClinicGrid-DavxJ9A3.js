import{c as Y}from"./clinics-DqPopm-J.js";import{a7 as te,a8 as de,c as y,x as B,a9 as ue,I as fe,d as X,J as pe,aa as D,i as A,ab as ve,u as me,ac as V,a1 as se,H as he,ad as J,ae as ge,af as F,ag as _e,ah as ye,h as Se,ai as W,o as S,k,l as g,_ as ne,U as ie,j as be,a0 as Z,W as q,w as R,p as _,F as re,Y as ae,t as C,V as O,m as x,B as Q,n as K,q as we,aj as Ce,Z as Re,ak as $e,a5 as xe,s as j}from"./index-Xw2_clFB.js";import{p as P}from"./prices-Sgi2l8nr.js";/* empty css                                                                     */import{N as Ne,a as Ge}from"./Rate-BpLgCo6Q.js";import{g as ke,N as Be}from"./Space-D2n9ycNP.js";function Ee(e){if(typeof e=="number")return{"":e.toString()};const n={};return e.split(/ +/).forEach(s=>{if(s==="")return;const[t,i]=s.split(":");i===void 0?n[""]=t:n[t]=i}),n}function T(e,n){var s;if(e==null)return;const t=Ee(e);if(n===void 0)return t[""];if(typeof n=="string")return(s=t[n])!==null&&s!==void 0?s:t[""];if(Array.isArray(n)){for(let i=n.length-1;i>=0;--i){const a=n[i];if(a in t)return t[a]}return t[""]}else{let i,a=-1;return Object.keys(t).forEach(l=>{const c=Number(l);!Number.isNaN(c)&&n>=c&&c>=a&&(a=c,i=t[l])}),i}}function Ie(e){var n;const s=(n=e.dirs)===null||n===void 0?void 0:n.find(({dir:t})=>t===te);return!!(s&&s.value===!1)}const Te={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function De(e){return`(min-width: ${e}px)`}const M={};function Me(e=Te){if(!de)return y(()=>[]);if(typeof window.matchMedia!="function")return y(()=>[]);const n=B({}),s=Object.keys(e),t=(i,a)=>{i.matches?n.value[a]=!0:n.value[a]=!1};return s.forEach(i=>{const a=e[i];let l,c;M[a]===void 0?(l=window.matchMedia(De(a)),l.addEventListener?l.addEventListener("change",v=>{c.forEach(u=>{u(v,i)})}):l.addListener&&l.addListener(v=>{c.forEach(u=>{u(v,i)})}),c=new Set,M[a]={mql:l,cbs:c}):(l=M[a].mql,c=M[a].cbs),c.add(t),l.matches&&c.forEach(v=>{v(l,i)})}),ue(()=>{s.forEach(i=>{const{cbs:a}=M[e[i]];a.has(t)&&a.delete(t)})}),y(()=>{const{value:i}=n;return s.filter(a=>i[a])})}const ee=1,oe=fe("n-grid"),le=1,Ae={span:{type:[Number,String],default:le},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}},Ve=X({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:Ae,setup(){const{isSsrRef:e,xGapRef:n,itemStyleRef:s,overflowRef:t,layoutShiftDisabledRef:i}=pe(oe),a=ve();return{overflow:t,itemStyle:s,layoutShiftDisabled:i,mergedXGap:y(()=>D(n.value||0)),deriveStyle:()=>{e.value;const{privateSpan:l=le,privateShow:c=!0,privateColStart:v=void 0,privateOffset:u=0}=a.vnode.props,{value:N}=n,f=D(N||0);return{display:c?"":"none",gridColumn:`${v??`span ${l}`} / span ${l}`,marginLeft:u?`calc((100% - (${l} - 1) * ${f}) / ${l} * ${u} + ${f} * ${u})`:""}}}},render(){var e,n;if(this.layoutShiftDisabled){const{span:s,offset:t,mergedXGap:i}=this;return A("div",{style:{gridColumn:`span ${s} / span ${s}`,marginLeft:t?`calc((100% - (${s} - 1) * ${i}) / ${s} * ${t} + ${i} * ${t})`:""}},this.$slots)}return A("div",{style:[this.itemStyle,this.deriveStyle()]},(n=(e=this.$slots).default)===null||n===void 0?void 0:n.call(e,{overflow:this.overflow}))}}),je={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},ce=24,z="__ssr__",Pe={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:ce},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}},Le=X({name:"Grid",inheritAttrs:!1,props:Pe,setup(e){const{mergedClsPrefixRef:n,mergedBreakpointsRef:s}=me(e),t=/^\d+$/,i=B(void 0),a=Me((s==null?void 0:s.value)||je),l=V(()=>!!(e.itemResponsive||!t.test(e.cols.toString())||!t.test(e.xGap.toString())||!t.test(e.yGap.toString()))),c=y(()=>{if(l.value)return e.responsive==="self"?i.value:a.value}),v=V(()=>{var p;return(p=Number(T(e.cols.toString(),c.value)))!==null&&p!==void 0?p:ce}),u=V(()=>T(e.xGap.toString(),c.value)),N=V(()=>T(e.yGap.toString(),c.value)),f=p=>{i.value=p.contentRect.width},r=p=>{ye(f,p)},d=B(!1),m=y(()=>{if(e.responsive==="self")return r}),h=B(!1),$=B();return se(()=>{const{value:p}=$;p&&p.hasAttribute(z)&&(p.removeAttribute(z),h.value=!0)}),he(oe,{layoutShiftDisabledRef:J(e,"layoutShiftDisabled"),isSsrRef:h,itemStyleRef:J(e,"itemStyle"),xGapRef:u,overflowRef:d}),{isSsr:!ge,contentEl:$,mergedClsPrefix:n,style:y(()=>e.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${e.cols}, minmax(0, 1fr))`,columnGap:D(e.xGap),rowGap:D(e.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${v.value}, minmax(0, 1fr))`,columnGap:D(u.value),rowGap:D(N.value)}),isResponsive:l,responsiveQuery:c,responsiveCols:v,handleResize:m,overflow:d}},render(){if(this.layoutShiftDisabled)return A("div",F({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const e=()=>{var n,s,t,i,a,l,c;this.overflow=!1;const v=Se(ke(this)),u=[],{collapsed:N,collapsedRows:f,responsiveCols:r,responsiveQuery:d}=this;v.forEach(o=>{var b,w,G,E,L;if(((b=o==null?void 0:o.type)===null||b===void 0?void 0:b.__GRID_ITEM__)!==!0)return;if(Ie(o)){const I=W(o);I.props?I.props.privateShow=!1:I.props={privateShow:!1},u.push({child:I,rawChildSpan:0});return}o.dirs=((w=o.dirs)===null||w===void 0?void 0:w.filter(({dir:I})=>I!==te))||null,((G=o.dirs)===null||G===void 0?void 0:G.length)===0&&(o.dirs=null);const H=W(o),U=Number((L=T((E=H.props)===null||E===void 0?void 0:E.span,d))!==null&&L!==void 0?L:ee);U!==0&&u.push({child:H,rawChildSpan:U})});let m=0;const h=(n=u[u.length-1])===null||n===void 0?void 0:n.child;if(h!=null&&h.props){const o=(s=h.props)===null||s===void 0?void 0:s.suffix;o!==void 0&&o!==!1&&(m=Number((i=T((t=h.props)===null||t===void 0?void 0:t.span,d))!==null&&i!==void 0?i:ee),h.props.privateSpan=m,h.props.privateColStart=r+1-m,h.props.privateShow=(a=h.props.privateShow)!==null&&a!==void 0?a:!0)}let $=0,p=!1;for(const{child:o,rawChildSpan:b}of u){if(p&&(this.overflow=!0),!p){const w=Number((c=T((l=o.props)===null||l===void 0?void 0:l.offset,d))!==null&&c!==void 0?c:0),G=Math.min(b+w,r);if(o.props?(o.props.privateSpan=G,o.props.privateOffset=w):o.props={privateSpan:G,privateOffset:w},N){const E=$%r;G+E>r&&($+=r-E),G+$+m>f*r?p=!0:$+=G}}p&&(o.props?o.props.privateShow!==!0&&(o.props.privateShow=!1):o.props={privateShow:!1})}return A("div",F({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[z]:this.isSsr||void 0},this.$attrs),u.map(({child:o})=>o))};return this.isResponsive&&this.responsive==="self"?A(_e,{onResize:this.handleResize},{default:e}):e()}}),Oe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ze=g("path",{d:"M472 168H40a24 24 0 0 1 0-48h432a24 24 0 0 1 0 48z",fill:"currentColor"},null,-1),Fe=g("path",{d:"M392 280H120a24 24 0 0 1 0-48h272a24 24 0 0 1 0 48z",fill:"currentColor"},null,-1),qe=g("path",{d:"M296 392h-80a24 24 0 0 1 0-48h80a24 24 0 0 1 0 48z",fill:"currentColor"},null,-1),Qe=[ze,Fe,qe],Xe=X({name:"Filter",render:function(n,s){return S(),k("svg",Oe,Qe)}}),He={style:{height:"200px !important",position:"relative"}},Ue=["src"],Ye=["src"],Je={key:2,class:"overlay"},We={class:"card-content"},Ze={class:"card-content-top"},Ke={class:"content-left"},et={class:"card-title"},tt={class:"card-description"},st={key:0,class:"treatment-price"},nt={class:"from"},it={class:"price"},rt={class:"card-content-bottom"},at={class:"card-location"},ot={key:0,class:"hotel-rating"},lt={class:"hotel-rating-count"},ct={class:"footer"},dt={class:"actions"},ut={__name:"ClinicCard",props:{id:Number,name:String,description:String,rating:Number,images:Array,country:String,town:String,initiallySelected:{type:Boolean,default:!1},selectedTreatments:{type:Array,default:()=>[]}},emits:["select","deselect"],setup(e,{emit:n}){ie();const s=B(!1),t=e,i=n,a=be(),l=()=>{a.push(`/clinic/${t.id}`)};se(()=>{s.value=t.initiallySelected});const c=()=>{s.value=!s.value,i(s.value?"select":"deselect",t.id)},v=()=>{let f=0;const r=P[t.id];if(!r)return 0;for(const d of t.selectedTreatments)if(r[d])f+=r[d];else return 0;return f},u=y(()=>Math.round(v()*Z.rate)),N=y(()=>{if(t.selectedTreatments.length===0)return!1;const f=P[t.id];if(!f)return!1;for(const r of t.selectedTreatments)if(!f[r])return!1;return v()>0});return(f,r)=>(S(),q(_(Ce),{size:"small",embedded:"",hoverable:"",class:we({card:!0,selected:s.value})},{cover:R(()=>[g("div",He,[e.images.length>1?(S(),q(_(Ne),{key:0,draggable:""},{default:R(()=>[(S(!0),k(re,null,ae(e.images,d=>(S(),k("img",{class:"clinic-image",src:d,alt:"Clinic Image"},null,8,Ue))),256))]),_:1})):(S(),k("img",{key:1,class:"clinic-image",src:e.images[0],alt:"Clinic Image"},null,8,Ye)),s.value?(S(),k("div",Je,C(f.$t("message.selected")),1)):O("",!0)])]),default:R(()=>[g("div",We,[g("div",null,[g("div",Ze,[g("div",Ke,[g("div",et,C(e.name),1),g("div",tt,C(e.description),1)]),N.value?(S(),k("div",st,[g("p",nt,C(f.$t("message.from")),1),g("p",it,C(_(Z).getSymbol())+C(u.value),1)])):O("",!0)]),g("div",rt,[g("div",at,C(e.town)+", "+C(e.country),1),e.rating?(S(),k("div",ot,[x(_(Ge),{value:1,count:1,readonly:"",size:"small"}),g("span",lt,C(Number(e.rating).toFixed(1)),1)])):O("",!0)])]),g("div",ct,[g("div",dt,[x(_(Q),{style:{margin:"0"},class:"action-button",onClick:l},{default:R(()=>[K(C(f.$t("message.details")),1)]),_:1}),x(_(Q),{style:{margin:"0"},class:"action-button",type:"primary",onClick:c},{default:R(()=>[K(C(s.value?f.$t("message.deselect"):f.$t("message.select")),1)]),_:1})])])])]),_:1},8,["class"]))}},ft=ne(ut,[["__scopeId","data-v-3bd9f593"]]),pt={class:"clinic-selection"},vt={class:"grid"},mt={__name:"ClinicGrid",setup(e){const{t:n}=ie(),s=B("Global"),t=B("default"),i=B("desc"),a=y(()=>[{label:n("sort.default"),key:"default"},{type:"divider"},{label:n("sort.rating"),key:"rating-desc"},{label:n("sort.price"),key:"price-asc"}]),l=r=>{if(r==="default"){t.value="default",i.value="desc";return}const[d,m]=r.split("-");t.value=d,i.value=m},c=y(()=>{const r=v.value;return t.value==="default"?r:[...r].sort((d,m)=>{var h,$;if(t.value==="rating"){const p=i.value==="asc"?1:-1,o=typeof d.rating=="number"?d.rating:-1/0,b=typeof m.rating=="number"?m.rating:-1/0;return(o-b)*p}if(t.value==="price"){const p=i.value==="asc"?1:-1,o=f.value[0];if(!o)return 0;const b=(h=P[d.id])==null?void 0:h[o],w=($=P[m.id])==null?void 0:$[o];return b===void 0&&w===void 0?0:b===void 0?1:w===void 0?-1:(b-w)*p}return 0})}),v=y(()=>s.value==="Global"?Y:Y.filter(r=>(r.country+r.town).includes(s.value))),u=r=>{j.clinics.push(r)},N=r=>{j.clinics=j.clinics.filter(d=>d!==r)},f=y(()=>{const r=[];for(const[d,m]of Object.entries(Re.treatments))for(let h=0;h<m;h++)r.push(d);return r});return(r,d)=>(S(),k("div",pt,[x(_(Be),{justify:"end",align:"center",class:"filter-container"},{default:R(()=>[x(_($e),{trigger:"click",options:a.value,onSelect:l},{default:R(()=>[x(_(Q),null,{icon:R(()=>[x(_(xe),null,{default:R(()=>[x(_(Xe))]),_:1})]),_:1})]),_:1},8,["options"])]),_:1}),g("div",vt,[x(_(Le),{"x-gap":16,"y-gap":24,cols:"1 600:2 900:3 1200:4"},{default:R(()=>[(S(!0),k(re,null,ae(c.value,m=>(S(),q(_(Ve),{key:m.id},{default:R(()=>[x(_(ft),F({initiallySelected:_(j).clinics.includes(m.id),ref_for:!0},m,{onSelect:u,onDeselect:N,selectedTreatments:f.value}),null,16,["initiallySelected","selectedTreatments"])]),_:2},1024))),128))]),_:1})])]))}},wt=ne(mt,[["__scopeId","data-v-ebf94ce7"]]);export{wt as C};
