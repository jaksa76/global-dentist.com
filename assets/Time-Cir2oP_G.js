import{r as S,t as d,n as E,l as Y,m as I,g as Z,a as $,u as q,q as C,p as H}from"./index-DZKUV9hg.js";import{d as j,c as T,n as p,i as B}from"./index-CutREJzL.js";function P(r,a){S(2,arguments);var t=d(r),l=d(a),i=t.getTime()-l.getTime();return i<0?-1:i>0?1:i}function V(r){return E({},r)}var y=1e3*60,M=60*24,O=M*30,_=M*365;function k(r,a,t){var l,i,f;S(2,arguments);var m=Z(),o=(l=(i=t==null?void 0:t.locale)!==null&&i!==void 0?i:m.locale)!==null&&l!==void 0?l:Y;if(!o.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var x=P(r,a);if(isNaN(x))throw new RangeError("Invalid time value");var e=E(V(t),{addSuffix:!!(t!=null&&t.addSuffix),comparison:x}),s,c;x>0?(s=d(a),c=d(r)):(s=d(r),c=d(a));var v=String((f=t==null?void 0:t.roundingMethod)!==null&&f!==void 0?f:"round"),u;if(v==="floor")u=Math.floor;else if(v==="ceil")u=Math.ceil;else if(v==="round")u=Math.round;else throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");var N=c.getTime()-s.getTime(),g=N/y,b=I(c)-I(s),h=(N-b)/y,R=t==null?void 0:t.unit,n;if(R?n=String(R):g<1?n="second":g<60?n="minute":g<M?n="hour":h<O?n="day":h<_?n="month":n="year",n==="second"){var L=u(N/1e3);return o.formatDistance("xSeconds",L,e)}else if(n==="minute"){var U=u(g);return o.formatDistance("xMinutes",U,e)}else if(n==="hour"){var z=u(g/60);return o.formatDistance("xHours",z,e)}else if(n==="day"){var F=u(h/M);return o.formatDistance("xDays",F,e)}else if(n==="month"){var D=u(h/O);return D===12&&R!=="month"?o.formatDistance("xYears",1,e):o.formatDistance("xMonths",D,e)}else if(n==="year"){var A=u(h/_);return o.formatDistance("xYears",A,e)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}function w(r){S(1,arguments);var a=$(r);return d(a*1e3)}const G={time:{type:[Number,Date],default:void 0},type:{type:String,default:"datetime"},to:{type:[Number,Date],default:void 0},unix:Boolean,format:String,text:Boolean,timeZone:String},Q=j({name:"Time",props:G,setup(r){const a=Date.now(),{localeRef:t,dateLocaleRef:l}=q("Time"),i=T(()=>{const{timeZone:e}=r;return e?(s,c,v)=>C(s,e,c,v):H}),f=T(()=>({locale:l.value.locale})),m=T(()=>{const{time:e}=r;return r.unix?e===void 0?a:w(typeof e=="number"?e:e.valueOf()):e??a}),o=T(()=>{const{to:e}=r;return r.unix?e===void 0?a:w(typeof e=="number"?e:e.valueOf()):e??a});return{renderedTime:T(()=>r.format?i.value(m.value,r.format,f.value):r.type==="date"?i.value(m.value,t.value.dateFormat,f.value):r.type==="datetime"?i.value(m.value,t.value.dateTimeFormat,f.value):k(m.value,o.value,{addSuffix:!0,locale:l.value.locale}))}},render(){return this.text?p(this.renderedTime):B("time",[this.renderedTime])}});export{Q as N};
