import{_ as G,v as _,c as B,o as n,k as c,l as e,m as C,w as p,F as y,V as $,U as L,q as x,p as m,t,n as M,S as h,r as U,s as j,aM as F,j as R,W as T,B as q}from"./index-D653pp2w.js";import{h as z}from"./hotels-DjyfMVIF.js";import{c as I}from"./state-DVY2Mody.js";import{b as V,N as E,a as A}from"./Rate-DChQ_V7t.js";const k=i=>(U("data-v-98400fe4"),i=i(),j(),i),O={class:"hotel-image-gallery"},P={class:"mobile-carousel"},W=k(()=>e("i",{class:"fa fa-chevron-left"},null,-1)),J=[W],K=["src","alt","onLoad"],Q=k(()=>e("i",{class:"fa fa-chevron-right"},null,-1)),X=[Q],Y={class:"mobile-carousel-footer"},Z={class:"gallery-grid"},ee={class:"gallery-container"},se=["onClick"],te=["src","alt","onLoad"],ae={key:0,class:"gallery-modal"},oe=k(()=>e("i",{class:"fa fa-times"},null,-1)),le={class:"modal-content"},ne=k(()=>e("i",{class:"fa fa-chevron-left"},null,-1)),ce=[ne],ie=["src","alt"],re=k(()=>e("i",{class:"fa fa-chevron-right"},null,-1)),ue=[re],de={class:"modal-footer"},ve={__name:"HotelImageGallery",props:{images:{type:Array,required:!0}},setup(i){const N=i,u=_(0),f=_(!1),a=_(new Set),o=B(()=>N.images.length),g=s=>{a.value.add(s)},b=s=>{u.value=s},d=()=>{u.value=(u.value-1+o.value)%o.value},w=()=>{u.value=(u.value+1)%o.value},H=s=>{u.value=s,f.value=!0,document.body.style.overflow="hidden"},S=()=>{f.value=!1,document.body.style.overflow="auto"};return(s,v)=>(n(),c("div",O,[e("div",P,[e("button",{class:"nav-button prev",onClick:d},J),C(m(E),{"current-index":u.value,"onUpdate:currentIndex":b,"dot-type":"line","show-arrow":!1,effect:"fade",interval:5e3,duration:500,autoplay:!1},{default:p(()=>[(n(!0),c(y,null,$(i.images,(l,r)=>(n(),L(m(V),{key:"image-"+r,class:"image-item"},{default:p(()=>[e("img",{src:l,alt:`Hotel Image ${r+1}`,onLoad:D=>g(r),class:x({"image-loaded":a.value.has(r)})},null,42,K)]),_:2},1024))),128))]),_:1},8,["current-index"]),e("button",{class:"nav-button next",onClick:w},X),e("div",Y,[e("span",null,t(u.value+1)+" / "+t(o.value),1)])]),e("div",Z,[e("div",ee,[(n(!0),c(y,null,$(i.images,(l,r)=>(n(),c("div",{key:"image-"+r,class:"gallery-item",onClick:D=>H(r)},[e("img",{src:l,alt:`Hotel Image ${r+1}`,onLoad:D=>g(r),class:x({"image-loaded":a.value.has(r)})},null,42,te)],8,se))),128))])]),f.value?(n(),c("div",ae,[e("div",{class:"modal-header"},[e("button",{class:"close-button",onClick:S},[oe,M(" Close ")])]),e("div",le,[e("button",{class:"nav-button prev",onClick:d},ce),C(m(E),{"current-index":u.value,"onUpdate:currentIndex":b,"show-arrow":!1,"dot-type":"line",effect:"fade",interval:5e3,duration:500,autoplay:!1},{default:p(()=>[(n(!0),c(y,null,$(i.images,(l,r)=>(n(),L(m(V),{key:"image-"+r,class:"image-item"},{default:p(()=>[e("img",{src:l,alt:`Hotel Image ${r+1}`,class:"modal-image"},null,8,ie)]),_:2},1024))),128))]),_:1},8,["current-index"]),e("button",{class:"nav-button next",onClick:w},ue)]),e("div",de,[e("span",null,t(u.value+1)+" / "+t(o.value),1)])])):h("",!0)]))}},he=G(ve,[["__scopeId","data-v-98400fe4"]]),me=i=>(U("data-v-f020d0ce"),i=i(),j(),i),_e={key:0,class:"hotel-details"},fe={class:"container"},ge={class:"sticky-nav"},pe=me(()=>e("span",{class:"icon-back"},"←",-1)),ye={key:0,class:"hero-section"},$e={class:"hero-section-header"},ke={class:"location"},be={class:"reviews-section"},we={class:"reviews-box"},Ie={class:"rating-text"},Ce={key:1},Ne={key:2},He={class:"amenities-grid"},Se={key:3},Be={class:"rooms-grid"},Le={class:"price"},xe={__name:"HotelDetails",setup(i){const N=F(),u=R(),f=N.params.name,a=_(null),o=_({}),g=B(()=>I.hotels.some(s=>{var v;return s.name===((v=a.value)==null?void 0:v.name)})),b=B(()=>{var s,v,l;return((l=(v=(s=o.value)==null?void 0:s.info)==null?void 0:v.description)==null?void 0:l.length)>300}),d=_(!1),w=()=>{d.value=!d.value},H=()=>{u.push("/editor/accommodation")},S=()=>{g.value?I.hotels=I.hotels.filter(s=>s.name!==a.value.name):I.hotels.push(a.value)};return T(async()=>{if(a.value=z.find(s=>s.name===f),a.value)try{const s=await fetch(`/hotels/${a.value.folder}/info.json`);o.value=await s.json()}catch(s){console.error("Error loading hotel info:",s),o.value={}}}),(s,v)=>a.value?(n(),c("div",_e,[e("main",fe,[e("div",ge,[e("div",{onClick:H,class:"back-button"},[pe,M(" "+t(s.$t("message.backToHotels")),1)]),e("div",{onClick:S,class:"select-hotel-button"},t(g.value?s.$t("message.deselect"):s.$t("message.select")),1)]),a.value.thumbnails&&a.value.thumbnails.length?(n(),c("section",ye,[C(he,{images:a.value.thumbnails},null,8,["images"]),e("div",$e,[e("h2",null,t(a.value.name),1),e("p",ke,t(s.$t("message.location",{location:`${a.value.city}, ${a.value.country}`})),1),e("div",be,[e("div",we,[e("div",Ie,t(Number(a.value.rating).toFixed(1)),1),C(m(A),{value:a.value.rating,count:5,color:"var(--primary-color)",readonly:"",size:"1","allow-half":""},null,8,["value"])])])])])):h("",!0),o.value.info&&o.value.info.description?(n(),c("section",Ce,[e("h2",null,t(s.$t("message.aboutUs")),1),e("div",{class:x(["hotel-info",{expanded:d.value}])},[e("p",null,t(o.value.info.description),1)],2),b.value?(n(),L(m(q),{key:0,onClick:w,class:"expand-button"},{default:p(()=>[M(t(d.value?s.$t("message.showLess"):s.$t("message.showMore")),1)]),_:1})):h("",!0)])):h("",!0),o.value.amenities&&o.value.amenities.length?(n(),c("section",Ne,[e("h2",null,t(s.$t("message.amenities")),1),e("div",He,[(n(!0),c(y,null,$(o.value.amenities,l=>(n(),c("div",{key:l.name,class:"amenity-item"},[e("h3",null,t(l.name),1),e("p",null,t(l.description),1)]))),128))])])):h("",!0),o.value.rooms&&o.value.rooms.length?(n(),c("section",Se,[e("h2",null,t(s.$t("message.roomTypes")),1),e("div",Be,[(n(!0),c(y,null,$(o.value.rooms,l=>(n(),c("div",{key:l.type,class:"room-card"},[e("h3",null,t(l.type),1),e("p",null,t(l.description),1),e("p",Le,t(l.price)+" "+t(l.currency||"€")+"/night",1)]))),128))])])):h("",!0)])])):h("",!0)}},Ge=G(xe,[["__scopeId","data-v-f020d0ce"]]);export{Ge as default};
