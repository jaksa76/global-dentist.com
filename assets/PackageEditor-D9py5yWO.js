import{d as K,c as k,n as w,i as Q,_ as W,R as X,o as u,k as c,l as f,t as m,p as r,F as x,V as S,m as O,w as ee,B as te}from"./index-D653pp2w.js";import{c as re}from"./clinics-BxvtXaXx.js";import{a as C,s as F,b as E,c as L}from"./state-DVY2Mody.js";import{r as $,t as g,a as Y,g as z,b as ne,c as ae,f as ie,d as oe}from"./index-fRCZvwWl.js";import{l as se,u as le}from"./use-locale-C5tWQ0IJ.js";function de(n,t){$(2,arguments);var a=g(n),v=g(t),i=a.getTime()-v.getTime();return i<0?-1:i>0?1:i}function ue(n){return Y({},n)}var B=1e3*60,D=60*24,U=D*30,A=D*365;function ce(n,t,a){var v,i,o;$(2,arguments);var s=ne(),l=(v=(i=a==null?void 0:a.locale)!==null&&i!==void 0?i:s.locale)!==null&&v!==void 0?v:se;if(!l.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var N=de(n,t);if(isNaN(N))throw new RangeError("Invalid time value");var e=Y(ue(a),{addSuffix:!!(a!=null&&a.addSuffix),comparison:N}),y,_;N>0?(y=g(t),_=g(n)):(y=g(n),_=g(t));var T=String((o=a==null?void 0:a.roundingMethod)!==null&&o!==void 0?o:"round"),h;if(T==="floor")h=Math.floor;else if(T==="ceil")h=Math.ceil;else if(T==="round")h=Math.round;else throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");var I=_.getTime()-y.getTime(),p=I/B,H=z(_)-z(y),M=(I-H)/B,R=a==null?void 0:a.unit,d;if(R?d=String(R):p<1?d="second":p<60?d="minute":p<D?d="hour":M<U?d="day":M<A?d="month":d="year",d==="second"){var P=h(I/1e3);return l.formatDistance("xSeconds",P,e)}else if(d==="minute"){var Z=h(p);return l.formatDistance("xMinutes",Z,e)}else if(d==="hour"){var j=h(p/60);return l.formatDistance("xHours",j,e)}else if(d==="day"){var G=h(M/D);return l.formatDistance("xDays",G,e)}else if(d==="month"){var b=h(M/U);return b===12&&R!=="month"?l.formatDistance("xYears",1,e):l.formatDistance("xMonths",b,e)}else if(d==="year"){var J=h(M/A);return l.formatDistance("xYears",J,e)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}function q(n){$(1,arguments);var t=ae(n);return g(t*1e3)}const me={time:{type:[Number,Date],default:void 0},type:{type:String,default:"datetime"},to:{type:[Number,Date],default:void 0},unix:Boolean,format:String,text:Boolean,timeZone:String},V=K({name:"Time",props:me,setup(n){const t=Date.now(),{localeRef:a,dateLocaleRef:v}=le("Time"),i=k(()=>{const{timeZone:e}=n;return e?(y,_,T)=>ie(y,e,_,T):oe}),o=k(()=>({locale:v.value.locale})),s=k(()=>{const{time:e}=n;return n.unix?e===void 0?t:q(typeof e=="number"?e:e.valueOf()):e??t}),l=k(()=>{const{to:e}=n;return n.unix?e===void 0?t:q(typeof e=="number"?e:e.valueOf()):e??t});return{renderedTime:k(()=>n.format?i.value(s.value,n.format,o.value):n.type==="date"?i.value(s.value,a.value.dateFormat,o.value):n.type==="datetime"?i.value(s.value,a.value.dateTimeFormat,o.value):ce(s.value,l.value,{addSuffix:!0,locale:v.value.locale}))}},render(){return this.text?w(this.renderedTime):Q("time",[this.renderedTime])}}),fe={class:"package-editor"},ve={class:"content"},he={key:1,class:"placeholder"},ge={class:"content"},ye={key:1,class:"placeholder"},_e={class:"content"},Te={key:1,class:"placeholder"},pe={class:"content"},Me={key:0},ke={key:1,class:"placeholder"},Ne={__name:"PackageEditor",setup(n){const{t}=X();function a(i){return re.find(o=>o.id===i).name}const v=()=>{};return(i,o)=>(u(),c("div",fe,[f("div",{class:"editor-section",onClick:o[0]||(o[0]=s=>i.$router.push("/editor/treatments"))},[f("h3",null,m(r(t)("editor.treatments")),1),f("div",ve,[Object.keys(r(C).treatments).length>0?(u(!0),c(x,{key:0},S(r(C).treatments,(s,l)=>(u(),c("div",{key:l},m(r(t)(`treatments.${l}`))+" ("+m(s)+") ",1))),128)):(u(),c("div",he,m(r(t)("editor.selectTreatments")),1))])]),f("div",{class:"editor-section",onClick:o[1]||(o[1]=s=>i.$router.push("/editor/clinics"))},[f("h3",null,m(r(t)("editor.clinics")),1),f("div",ge,[r(F).clinics.length>0?(u(!0),c(x,{key:0},S(r(F).clinics,s=>(u(),c("div",{key:s},m(a(s)),1))),128)):(u(),c("div",ye,m(r(t)("editor.selectClinics")),1))])]),f("div",{class:"editor-section",onClick:o[2]||(o[2]=s=>i.$router.push("/editor/dates"))},[f("h3",null,m(r(t)("editor.preferredDates")),1),f("div",_e,[r(E).length>0?(u(),c(x,{key:0},[O(r(V),{time:r(E)[0],type:"date",format:"MMM d, yyyy"},null,8,["time"]),w(" - "),O(r(V),{time:r(E)[1],type:"date",format:"MMM d, yyyy"},null,8,["time"])],64)):(u(),c("div",Te,m(r(t)("editor.selectDates")),1))])]),f("div",{class:"editor-section",onClick:o[3]||(o[3]=s=>i.$router.push("/editor/accommodation"))},[f("h3",null,m(r(t)("editor.accommodation")),1),f("div",pe,[r(L).hotels.length>0?(u(),c("div",Me,[(u(!0),c(x,null,S(r(L).hotels,s=>(u(),c("div",{key:s},m(s.name),1))),128))])):(u(),c("div",ke,m(r(t)("editor.selectAccommodation")),1))])]),O(r(te),{type:"primary",size:"large",class:"request-button",onClick:v},{default:ee(()=>[w(m(r(t)("editor.requestOffer")),1)]),_:1})]))}},Oe=W(Ne,[["__scopeId","data-v-31766186"]]);export{Oe as default};
