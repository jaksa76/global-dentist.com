import{c as Q}from"./clinics-DxuE_lTw.js";import{a as le,s as M}from"./state-DfIyutr0.js";import{a1 as K,a2 as ce,c as y,v as N,a3 as de,H as ue,d as ee,I as fe,a4 as pe,a5 as T,i as A,u as ve,a6 as P,X as te,G as me,a7 as U,a8 as he,a9 as F,aa as ge,ab as _e,h as ye,ac as H,_ as se,R as Se,j as be,o as g,U as X,w as $,l as p,p as b,k as R,F as ne,W as ie,t as _,S as L,m as V,B as W,n as Y,q as Re,ad as we}from"./index-Bo6RbyAZ.js";import{p as J}from"./prices-Sgi2l8nr.js";/* empty css                                                                     */import{N as Ce,a as $e}from"./Rate-BVxyqhfG.js";import{g as Ne}from"./get-slot-Bk_rJcZu.js";function xe(e){if(typeof e=="number")return{"":e.toString()};const a={};return e.split(/ +/).forEach(s=>{if(s==="")return;const[t,n]=s.split(":");n===void 0?a[""]=t:a[t]=n}),a}function E(e,a){var s;if(e==null)return;const t=xe(e);if(a===void 0)return t[""];if(typeof a=="string")return(s=t[a])!==null&&s!==void 0?s:t[""];if(Array.isArray(a)){for(let n=a.length-1;n>=0;--n){const r=a[n];if(r in t)return t[r]}return t[""]}else{let n,r=-1;return Object.keys(t).forEach(o=>{const i=Number(o);!Number.isNaN(i)&&a>=i&&i>=r&&(r=i,n=t[o])}),n}}function Ge(e){var a;const s=(a=e.dirs)===null||a===void 0?void 0:a.find(({dir:t})=>t===K);return!!(s&&s.value===!1)}const Be={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function ke(e){return`(min-width: ${e}px)`}const D={};function Ee(e=Be){if(!ce)return y(()=>[]);if(typeof window.matchMedia!="function")return y(()=>[]);const a=N({}),s=Object.keys(e),t=(n,r)=>{n.matches?a.value[r]=!0:a.value[r]=!1};return s.forEach(n=>{const r=e[n];let o,i;D[r]===void 0?(o=window.matchMedia(ke(r)),o.addEventListener?o.addEventListener("change",d=>{i.forEach(l=>{l(d,n)})}):o.addListener&&o.addListener(d=>{i.forEach(l=>{l(d,n)})}),i=new Set,D[r]={mql:o,cbs:i}):(o=D[r].mql,i=D[r].cbs),i.add(t),o.matches&&i.forEach(d=>{d(o,n)})}),de(()=>{s.forEach(n=>{const{cbs:r}=D[e[n]];r.has(t)&&r.delete(t)})}),y(()=>{const{value:n}=a;return s.filter(r=>n[r])})}const Z=1,ae=ue("n-grid"),re=1,Te={span:{type:[Number,String],default:re},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}},Ie=ee({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:Te,setup(){const{isSsrRef:e,xGapRef:a,itemStyleRef:s,overflowRef:t,layoutShiftDisabledRef:n}=fe(ae),r=pe();return{overflow:t,itemStyle:s,layoutShiftDisabled:n,mergedXGap:y(()=>T(a.value||0)),deriveStyle:()=>{e.value;const{privateSpan:o=re,privateShow:i=!0,privateColStart:d=void 0,privateOffset:l=0}=r.vnode.props,{value:u}=a,v=T(u||0);return{display:i?"":"none",gridColumn:`${d??`span ${o}`} / span ${o}`,marginLeft:l?`calc((100% - (${o} - 1) * ${v}) / ${o} * ${l} + ${v} * ${l})`:""}}}},render(){var e,a;if(this.layoutShiftDisabled){const{span:s,offset:t,mergedXGap:n}=this;return A("div",{style:{gridColumn:`span ${s} / span ${s}`,marginLeft:t?`calc((100% - (${s} - 1) * ${n}) / ${s} * ${t} + ${n} * ${t})`:""}},this.$slots)}return A("div",{style:[this.itemStyle,this.deriveStyle()]},(a=(e=this.$slots).default)===null||a===void 0?void 0:a.call(e,{overflow:this.overflow}))}}),De={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},oe=24,O="__ssr__",Ae={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:oe},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}},Ve=ee({name:"Grid",inheritAttrs:!1,props:Ae,setup(e){const{mergedClsPrefixRef:a,mergedBreakpointsRef:s}=ve(e),t=/^\d+$/,n=N(void 0),r=Ee((s==null?void 0:s.value)||De),o=P(()=>!!(e.itemResponsive||!t.test(e.cols.toString())||!t.test(e.xGap.toString())||!t.test(e.yGap.toString()))),i=y(()=>{if(o.value)return e.responsive==="self"?n.value:r.value}),d=P(()=>{var f;return(f=Number(E(e.cols.toString(),i.value)))!==null&&f!==void 0?f:oe}),l=P(()=>E(e.xGap.toString(),i.value)),u=P(()=>E(e.yGap.toString(),i.value)),v=f=>{n.value=f.contentRect.width},m=f=>{_e(v,f)},x=N(!1),G=y(()=>{if(e.responsive==="self")return m}),h=N(!1),w=N();return te(()=>{const{value:f}=w;f&&f.hasAttribute(O)&&(f.removeAttribute(O),h.value=!0)}),me(ae,{layoutShiftDisabledRef:U(e,"layoutShiftDisabled"),isSsrRef:h,itemStyleRef:U(e,"itemStyle"),xGapRef:l,overflowRef:x}),{isSsr:!he,contentEl:w,mergedClsPrefix:a,style:y(()=>e.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${e.cols}, minmax(0, 1fr))`,columnGap:T(e.xGap),rowGap:T(e.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${d.value}, minmax(0, 1fr))`,columnGap:T(l.value),rowGap:T(u.value)}),isResponsive:o,responsiveQuery:i,responsiveCols:d,handleResize:G,overflow:x}},render(){if(this.layoutShiftDisabled)return A("div",F({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const e=()=>{var a,s,t,n,r,o,i;this.overflow=!1;const d=ye(Ne(this)),l=[],{collapsed:u,collapsedRows:v,responsiveCols:m,responsiveQuery:x}=this;d.forEach(c=>{var I,C,S,B,j;if(((I=c==null?void 0:c.type)===null||I===void 0?void 0:I.__GRID_ITEM__)!==!0)return;if(Ge(c)){const k=H(c);k.props?k.props.privateShow=!1:k.props={privateShow:!1},l.push({child:k,rawChildSpan:0});return}c.dirs=((C=c.dirs)===null||C===void 0?void 0:C.filter(({dir:k})=>k!==K))||null,((S=c.dirs)===null||S===void 0?void 0:S.length)===0&&(c.dirs=null);const q=H(c),z=Number((j=E((B=q.props)===null||B===void 0?void 0:B.span,x))!==null&&j!==void 0?j:Z);z!==0&&l.push({child:q,rawChildSpan:z})});let G=0;const h=(a=l[l.length-1])===null||a===void 0?void 0:a.child;if(h!=null&&h.props){const c=(s=h.props)===null||s===void 0?void 0:s.suffix;c!==void 0&&c!==!1&&(G=Number((n=E((t=h.props)===null||t===void 0?void 0:t.span,x))!==null&&n!==void 0?n:Z),h.props.privateSpan=G,h.props.privateColStart=m+1-G,h.props.privateShow=(r=h.props.privateShow)!==null&&r!==void 0?r:!0)}let w=0,f=!1;for(const{child:c,rawChildSpan:I}of l){if(f&&(this.overflow=!0),!f){const C=Number((i=E((o=c.props)===null||o===void 0?void 0:o.offset,x))!==null&&i!==void 0?i:0),S=Math.min(I+C,m);if(c.props?(c.props.privateSpan=S,c.props.privateOffset=C):c.props={privateSpan:S,privateOffset:C},u){const B=w%m;S+B>m&&(w+=m-B),S+w+G>v*m?f=!0:w+=S}}f&&(c.props?c.props.privateShow!==!0&&(c.props.privateShow=!1):c.props={privateShow:!1})}return A("div",F({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[O]:this.isSsr||void 0},this.$attrs),l.map(({child:c})=>c))};return this.isResponsive&&this.responsive==="self"?A(ge,{onResize:this.handleResize},{default:e}):e()}}),Me={style:{height:"200px !important",position:"relative"}},Pe=["src"],je=["src"],Le={key:2,class:"overlay"},Oe={class:"card-content"},Fe={class:"card-content-top"},Xe={class:"content-left"},qe={class:"card-title"},ze={class:"card-description"},Qe={key:0,class:"treatment-price"},Ue={class:"from"},He={class:"price"},We={class:"card-content-bottom"},Ye={class:"card-location"},Je={key:0,class:"hotel-rating"},Ze={class:"hotel-rating-count"},Ke={class:"footer"},et={class:"actions"},tt={__name:"ClinicCard",props:{id:Number,name:String,description:String,rating:Number,images:Array,country:String,town:String,initiallySelected:{type:Boolean,default:!1},selectedTreatments:{type:Array,default:()=>[]}},emits:["select","deselect"],setup(e,{emit:a}){Se();const s=N(!1),t=e,n=a,r=be(),o=()=>{r.push(`/clinic/${t.id}`)};te(()=>{s.value=t.initiallySelected});const i=()=>{s.value=!s.value,n(s.value?"select":"deselect",t.id)},d=()=>{let u=0;const v=J[t.id];if(!v)return 0;for(const m of t.selectedTreatments)if(v[m])u+=v[m];else return 0;return u},l=y(()=>{if(t.selectedTreatments.length===0)return!1;const u=J[t.id];if(!u)return!1;for(const v of t.selectedTreatments)if(!u[v])return!1;return d()>0});return(u,v)=>(g(),X(b(we),{size:"small",embedded:"",hoverable:"",class:Re({card:!0,selected:s.value})},{cover:$(()=>[p("div",Me,[e.images.length>1?(g(),X(b(Ce),{key:0,draggable:""},{default:$(()=>[(g(!0),R(ne,null,ie(e.images,m=>(g(),R("img",{class:"clinic-image",src:m,alt:"Clinic Image"},null,8,Pe))),256))]),_:1})):(g(),R("img",{key:1,class:"clinic-image",src:e.images[0],alt:"Clinic Image"},null,8,je)),s.value?(g(),R("div",Le,_(u.$t("message.selected")),1)):L("",!0)])]),default:$(()=>[p("div",Oe,[p("div",null,[p("div",Fe,[p("div",Xe,[p("div",qe,_(e.name),1),p("div",ze,_(e.description),1)]),l.value?(g(),R("div",Qe,[p("p",Ue,_(u.$t("message.from")),1),p("p",He,"â‚¬"+_(d()),1)])):L("",!0)]),p("div",We,[p("div",Ye,_(e.town)+", "+_(e.country),1),e.rating?(g(),R("div",Je,[V(b($e),{value:1,count:1,readonly:"",size:"small"}),p("span",Ze,_(Number(e.rating).toFixed(1)),1)])):L("",!0)])]),p("div",Ke,[p("div",et,[V(b(W),{style:{margin:"0"},class:"action-button",onClick:o},{default:$(()=>[Y(_(u.$t("message.details")),1)]),_:1}),V(b(W),{style:{margin:"0"},class:"action-button",type:"primary",onClick:i},{default:$(()=>[Y(_(s.value?u.$t("message.deselect"):u.$t("message.select")),1)]),_:1})])])])]),_:1},8,["class"]))}},st=se(tt,[["__scopeId","data-v-02e2515f"]]),nt={class:"clinic-selection"},it={class:"grid"},at={__name:"ClinicGrid",emits:["change"],setup(e,{emit:a}){const s=N("Global"),t=y(()=>s.value==="Global"?Q:Q.filter(i=>(i.country+i.town).includes(s.value))),n=i=>{M.clinics.push(i)},r=i=>{M.clinics=M.clinics.filter(d=>d!==i)},o=y(()=>{const i=[];for(const[d,l]of Object.entries(le.treatments))for(let u=0;u<l;u++)i.push(d);return i});return(i,d)=>(g(),R("div",nt,[p("div",it,[V(b(Ve),{"x-gap":16,"y-gap":24,cols:"1 600:2 900:3 1200:4"},{default:$(()=>[(g(!0),R(ne,null,ie(t.value,l=>(g(),X(b(Ie),{key:l.id},{default:$(()=>[V(b(st),F({initiallySelected:b(M).clinics.includes(l.id),ref_for:!0},l,{onSelect:n,onDeselect:r,selectedTreatments:o.value}),null,16,["initiallySelected","selectedTreatments"])]),_:2},1024))),128))]),_:1})])]))}},pt=se(at,[["__scopeId","data-v-420412bc"]]);export{pt as C};
